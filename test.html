<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TourAPI 4.3 Enterprise Test Dashboard</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        :root {
            --primary-color: #2563eb;
            --secondary-color: #1e40af;
            --success-color: #10b981;
            --warning-color: #f59e0b;
            --error-color: #ef4444;
            --bg-color: #f8fafc;
            --card-bg: #ffffff;
            --text-primary: #1f2937;
            --text-secondary: #6b7280;
            --border-color: #e5e7eb;
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-primary);
            line-height: 1.6;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        /* í—¤ë” */
        .header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 2rem;
            border-radius: 12px;
            margin-bottom: 2rem;
            box-shadow: var(--shadow);
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .header p {
            opacity: 0.9;
            font-size: 1.1rem;
        }

        .header-controls {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
            flex-wrap: wrap;
            align-items: center;
        }

        .language-selector, .api-url-input {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 6px;
            backdrop-filter: blur(10px);
        }

        .api-url-input {
            min-width: 300px;
            font-family: 'Courier New', monospace;
        }

        .language-selector option {
            background: var(--primary-color);
            color: white;
        }

        .deployment-badge {
            background: rgba(16, 185, 129, 0.2);
            color: #10b981;
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.875rem;
            font-weight: 600;
            border: 1px solid rgba(16, 185, 129, 0.3);
        }

        /* ì‹œìŠ¤í…œ ìƒíƒœ */
        .system-status {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .status-card {
            background: var(--card-bg);
            padding: 1.5rem;
            border-radius: 8px;
            box-shadow: var(--shadow);
            text-align: center;
            transition: transform 0.2s ease;
        }

        .status-card:hover {
            transform: translateY(-2px);
        }

        .status-card .icon {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }

        .status-card.healthy .icon { color: var(--success-color); }
        .status-card.warning .icon { color: var(--warning-color); }
        .status-card.error .icon { color: var(--error-color); }

        /* íƒ­ ë„¤ë¹„ê²Œì´ì…˜ */
        .tabs {
            display: flex;
            background: var(--card-bg);
            border-radius: 8px;
            box-shadow: var(--shadow);
            margin-bottom: 2rem;
            overflow-x: auto;
        }

        .tab {
            flex: 1;
            padding: 1rem 1.5rem;
            background: none;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
            white-space: nowrap;
            min-width: 120px;
        }

        .tab:hover {
            background: var(--bg-color);
        }

        .tab.active {
            background: var(--primary-color);
            color: white;
        }

        /* íƒ­ ì»¨í…ì¸  */
        .tab-content {
            display: none;
            background: var(--card-bg);
            padding: 2rem;
            border-radius: 8px;
            box-shadow: var(--shadow);
            margin-bottom: 2rem;
        }

        .tab-content.active {
            display: block;
        }

        /* í¼ ìŠ¤íƒ€ì¼ */
        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
        }

        label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        input, select, textarea {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid var(--border-color);
            border-radius: 6px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }

        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }

        /* ë²„íŠ¼ */
        .btn {
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .btn:hover {
            background: var(--secondary-color);
            transform: translateY(-1px);
        }

        .btn:disabled {
            background: var(--text-secondary);
            cursor: not-allowed;
            transform: none;
        }

        .btn-secondary {
            background: var(--text-secondary);
        }

        .btn-success {
            background: var(--success-color);
        }

        .btn-warning {
            background: var(--warning-color);
        }

        .btn-danger {
            background: var(--error-color);
        }

        /* ê²°ê³¼ í‘œì‹œ */
        .results {
            background: var(--card-bg);
            border-radius: 8px;
            box-shadow: var(--shadow);
            margin-top: 2rem;
        }

        .results-header {
            background: var(--bg-color);
            padding: 1rem 1.5rem;
            border-radius: 8px 8px 0 0;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .results-content {
            padding: 1.5rem;
            max-height: 600px;
            overflow-y: auto;
        }

        .result-item {
            background: var(--bg-color);
            padding: 1rem;
            border-radius: 6px;
            margin-bottom: 1rem;
            border-left: 4px solid var(--primary-color);
        }

        .result-meta {
            font-size: 0.875rem;
            color: var(--text-secondary);
            margin-bottom: 0.5rem;
        }

        /* JSON í‘œì‹œ */
        .json-viewer {
            background: #1f2937;
            color: #f9fafb;
            padding: 1rem;
            border-radius: 6px;
            font-family: 'Courier New', monospace;
            font-size: 0.875rem;
            line-height: 1.5;
            overflow-x: auto;
            white-space: pre-wrap;
        }

        /* ë¡œë”© ì• ë‹ˆë©”ì´ì…˜ */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* ì„±ëŠ¥ ë©”íŠ¸ë¦­ */
        .metrics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        .metric {
            text-align: center;
            padding: 1rem;
            background: var(--bg-color);
            border-radius: 6px;
        }

        .metric-value {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--primary-color);
        }

        .metric-label {
            font-size: 0.875rem;
            color: var(--text-secondary);
        }

        /* ë°˜ì‘í˜• */
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }

            .header h1 {
                font-size: 2rem;
            }

            .form-row {
                grid-template-columns: 1fr;
            }

            .tabs {
                flex-direction: column;
            }

            .tab {
                text-align: center;
            }

            .api-url-input {
                min-width: auto;
                width: 100%;
            }
        }

        /* ì•Œë¦¼ */
        .alert {
            padding: 1rem;
            border-radius: 6px;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .alert-success {
            background: rgba(16, 185, 129, 0.1);
            color: var(--success-color);
            border: 1px solid rgba(16, 185, 129, 0.2);
        }

        .alert-error {
            background: rgba(239, 68, 68, 0.1);
            color: var(--error-color);
            border: 1px solid rgba(239, 68, 68, 0.2);
        }

        .alert-warning {
            background: rgba(245, 158, 11, 0.1);
            color: var(--warning-color);
            border: 1px solid rgba(245, 158, 11, 0.2);
        }

        .alert-info {
            background: rgba(37, 99, 235, 0.1);
            color: var(--primary-color);
            border: 1px solid rgba(37, 99, 235, 0.2);
        }

        /* ê²°ê³¼ ì¹´ë“œ ìŠ¤íƒ€ì¼ */
        .result-cards {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        .result-card {
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 1rem;
            transition: all 0.2s ease;
        }

        .result-card:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow);
        }

        .result-card h4 {
            color: var(--primary-color);
            margin-bottom: 0.5rem;
            font-size: 1.1rem;
        }

        .result-card .content-id {
            background: var(--bg-color);
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            font-size: 0.875rem;
            color: var(--text-secondary);
            cursor: pointer;
            display: inline-block;
            margin-top: 0.5rem;
        }

        .result-card .content-id:hover {
            background: var(--primary-color);
            color: white;
        }

        .quick-test-buttons {
            display: flex;
            gap: 0.5rem;
            margin-top: 1rem;
            flex-wrap: wrap;
        }

        .quick-test-buttons .btn {
            font-size: 0.875rem;
            padding: 0.5rem 1rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- í—¤ë” -->
        <header class="header">
            <h1>
                <i class="fas fa-map-marked-alt"></i>
                TourAPI 4.3 Enterprise Test Dashboard
            </h1>
            <p>í•œêµ­ê´€ê´‘ê³µì‚¬ TourAPI 4.0 v4.3 ì™„ì „ êµ¬í˜„ ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸ ğŸš€</p>
            <div class="header-controls">
                <span class="deployment-badge">
                    <i class="fas fa-cloud"></i> VERCEL DEPLOYED
                </span>
                <select class="language-selector" id="languageSelector">
                    <option value="ko">í•œêµ­ì–´ ğŸ‡°ğŸ‡·</option>
                    <option value="en">English ğŸ‡ºğŸ‡¸</option>
                </select>
                <input type="url" class="api-url-input" id="apiUrl" placeholder="API ì„œë²„ URL" value="https://healingk.vercel.app" readonly>
                <button class="btn btn-secondary" onclick="healthCheck()">
                    <i class="fas fa-heartbeat"></i> Health Check
                </button>
            </div>
        </header>

        <!-- ì—°ê²° ìƒíƒœ ì•Œë¦¼ -->
        <div class="alert alert-info">
            <i class="fas fa-info-circle"></i>
            <strong>API í‚¤ ì •ë³´:</strong> ì„œë²„ì—ì„œ <code>TOURISM_API_KEY</code> í™˜ê²½ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. 
            ì²« ìš”ì²­ ì‹œ Vercel ì½œë“œ ìŠ¤íƒ€íŠ¸ë¡œ 10-15ì´ˆ ì†Œìš”ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
        </div>

        <!-- ì‹œìŠ¤í…œ ìƒíƒœ -->
        <div class="system-status">
            <div class="status-card healthy" id="apiStatus">
                <div class="icon"><i class="fas fa-server"></i></div>
                <h3>API ìƒíƒœ</h3>
                <p id="apiStatusText">ì—°ê²° ëŒ€ê¸°ì¤‘</p>
            </div>
            <div class="status-card" id="cacheStatus">
                <div class="icon"><i class="fas fa-database"></i></div>
                <h3>ìºì‹œ ìƒíƒœ</h3>
                <p id="cacheStatusText">-</p>
            </div>
            <div class="status-card" id="performanceStatus">
                <div class="icon"><i class="fas fa-tachometer-alt"></i></div>
                <h3>í‰ê·  ì‘ë‹µì‹œê°„</h3>
                <p id="performanceStatusText">-</p>
            </div>
            <div class="status-card" id="requestStatus">
                <div class="icon"><i class="fas fa-chart-line"></i></div>
                <h3>ì´ ìš”ì²­ ìˆ˜</h3>
                <p id="requestStatusText">0</p>
            </div>
        </div>

        <!-- íƒ­ ë„¤ë¹„ê²Œì´ì…˜ -->
        <div class="tabs">
            <button class="tab active" onclick="showTab('quickStart')">
                <i class="fas fa-rocket"></i> ë¹ ë¥¸ ì‹œì‘
            </button>
            <button class="tab" onclick="showTab('areaBasedList')">
                <i class="fas fa-list"></i> ì§€ì—­ë³„ ê´€ê´‘ì •ë³´
            </button>
            <button class="tab" onclick="showTab('searchKeyword')">
                <i class="fas fa-search"></i> í‚¤ì›Œë“œ ê²€ìƒ‰
            </button>
            <button class="tab" onclick="showTab('detailCommon')">
                <i class="fas fa-info-circle"></i> ìƒì„¸ì •ë³´
            </button>
            <button class="tab" onclick="showTab('locationBased')">
                <i class="fas fa-map-marker-alt"></i> ìœ„ì¹˜ê¸°ë°˜ ê²€ìƒ‰
            </button>
            <button class="tab" onclick="showTab('systemMonitor')">
                <i class="fas fa-monitor-waveform"></i> ì‹œìŠ¤í…œ ëª¨ë‹ˆí„°
            </button>
        </div>

        <!-- ë¹ ë¥¸ ì‹œì‘ íƒ­ -->
        <div id="quickStart" class="tab-content active">
            <h2><i class="fas fa-rocket"></i> ë¹ ë¥¸ ì‹œì‘ ê°€ì´ë“œ</h2>
            <div class="alert alert-success">
                <i class="fas fa-lightbulb"></i>
                <strong>ê¶Œì¥ í…ŒìŠ¤íŠ¸ ìˆœì„œ:</strong> ì•„ë˜ ë²„íŠ¼ë“¤ì„ ìˆœì„œëŒ€ë¡œ í´ë¦­í•´ì„œ ì‹œìŠ¤í…œì„ í…ŒìŠ¤íŠ¸í•´ë³´ì„¸ìš”!
            </div>
            
            <div class="quick-test-buttons">
                <button class="btn" onclick="quickTestSeoul()">
                    <i class="fas fa-city"></i> 1. ì„œìš¸ ê´€ê´‘ì§€ ê²€ìƒ‰
                </button>
                <button class="btn btn-secondary" onclick="quickTestKeyword()">
                    <i class="fas fa-search"></i> 2. ê²½ë³µê¶ ê²€ìƒ‰
                </button>
                <button class="btn btn-success" onclick="quickTestDetail()">
                    <i class="fas fa-info"></i> 3. ìƒì„¸ì •ë³´ ì¡°íšŒ
                </button>
                <button class="btn btn-warning" onclick="quickTestLocation()">
                    <i class="fas fa-map"></i> 4. ìœ„ì¹˜ê¸°ë°˜ ê²€ìƒ‰
                </button>
                <button class="btn btn-danger" onclick="runSystemTest()">
                    <i class="fas fa-cogs"></i> 5. ì‹œìŠ¤í…œ ì „ì²´ í…ŒìŠ¤íŠ¸
                </button>
            </div>

            <div style="margin-top: 2rem;">
                <h3>ğŸ¯ í…ŒìŠ¤íŠ¸ í¬ì¸íŠ¸</h3>
                <ul style="margin-left: 2rem; margin-top: 1rem;">
                    <li><strong>ì²« ìš”ì²­:</strong> ì½œë“œ ìŠ¤íƒ€íŠ¸ë¡œ 10-15ì´ˆ ì†Œìš” (ì •ìƒ)</li>
                    <li><strong>ìºì‹œ íš¨ê³¼:</strong> ê°™ì€ ìš”ì²­ ë°˜ë³µ ì‹œ 100ms ì´í•˜ë¡œ ë‹¨ì¶•</li>
                    <li><strong>ë°ì´í„° ì •í™•ì„±:</strong> í•œêµ­ê´€ê´‘ê³µì‚¬ ê³µì‹ ë°ì´í„° ë°˜í™˜</li>
                    <li><strong>ì—ëŸ¬ ì²˜ë¦¬:</strong> ì ì ˆí•œ ì˜¤ë¥˜ ë©”ì‹œì§€ í‘œì‹œ</li>
                    <li><strong>ë‹¤êµ­ì–´:</strong> í•œêµ­ì–´/ì˜ì–´ ì§€ì›</li>
                </ul>
            </div>

            <div style="margin-top: 2rem;">
                <h3>ğŸ”§ ë¬¸ì œ í•´ê²°</h3>
                <div class="alert alert-warning">
                    <i class="fas fa-exclamation-triangle"></i>
                    <strong>ì—°ê²° ì‹¤íŒ¨ ì‹œ:</strong> ë¸Œë¼ìš°ì € ê°œë°œì ë„êµ¬(F12) â†’ Console íƒ­ì—ì„œ ì˜¤ë¥˜ ë©”ì‹œì§€ í™•ì¸
                </div>
            </div>
        </div>

        <!-- ì§€ì—­ë³„ ê´€ê´‘ì •ë³´ íƒ­ -->
        <div id="areaBasedList" class="tab-content">
            <h2><i class="fas fa-list"></i> ì§€ì—­ë³„ ê´€ê´‘ì •ë³´ ì¡°íšŒ</h2>
            <form onsubmit="searchAreaBased(event)">
                <div class="form-row">
                    <div class="form-group">
                        <label for="areaCode">ì§€ì—­ì½”ë“œ</label>
                        <select id="areaCode">
                            <option value="">ì „ì²´</option>
                            <option value="1">ì„œìš¸ ğŸ™ï¸</option>
                            <option value="6">ë¶€ì‚° ğŸŒŠ</option>
                            <option value="4">ëŒ€êµ¬ ğŸŒ†</option>
                            <option value="2">ì¸ì²œ âœˆï¸</option>
                            <option value="5">ê´‘ì£¼ ğŸŒ¸</option>
                            <option value="3">ëŒ€ì „ ğŸ¢</option>
                            <option value="7">ìš¸ì‚° ğŸ­</option>
                            <option value="8">ì„¸ì¢… ğŸ›ï¸</option>
                            <option value="31">ê²½ê¸° ğŸ˜ï¸</option>
                            <option value="32">ê°•ì› â›°ï¸</option>
                            <option value="33">ì¶©ë¶ ğŸ”ï¸</option>
                            <option value="34">ì¶©ë‚¨ ğŸŒ¾</option>
                            <option value="35">ê²½ë¶ ğŸ¯</option>
                            <option value="36">ê²½ë‚¨ ğŸï¸</option>
                            <option value="37">ì „ë¶ ğŸŒ¿</option>
                            <option value="38">ì „ë‚¨ ğŸƒ</option>
                            <option value="39">ì œì£¼ ğŸŒº</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="contentTypeId">ì½˜í…ì¸  íƒ€ì…</label>
                        <select id="contentTypeId">
                            <option value="">ì „ì²´</option>
                            <option value="12">ğŸ›ï¸ ê´€ê´‘ì§€</option>
                            <option value="14">ğŸ­ ë¬¸í™”ì‹œì„¤</option>
                            <option value="15">ğŸª ì¶•ì œ/ê³µì—°/í–‰ì‚¬</option>
                            <option value="25">ğŸ—ºï¸ ì—¬í–‰ì½”ìŠ¤</option>
                            <option value="28">â›·ï¸ ë ˆí¬ì¸ </option>
                            <option value="32">ğŸ¨ ìˆ™ë°•</option>
                            <option value="38">ğŸ›ï¸ ì‡¼í•‘</option>
                            <option value="39">ğŸ½ï¸ ìŒì‹ì </option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="numOfRows">ê²€ìƒ‰ ê°œìˆ˜</label>
                        <select id="numOfRows">
                            <option value="10">10ê°œ</option>
                            <option value="20">20ê°œ</option>
                            <option value="50">50ê°œ</option>
                            <option value="100">100ê°œ</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="arrange">ì •ë ¬</label>
                        <select id="arrange">
                            <option value="C">ìˆ˜ì •ì¼ìˆœ</option>
                            <option value="A">ì œëª©ìˆœ</option>
                            <option value="B">ì¡°íšŒìˆœ</option>
                            <option value="D">ë“±ë¡ì¼ìˆœ</option>
                        </select>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="userLat">ì‚¬ìš©ì ìœ„ë„ (ì„ íƒ)</label>
                        <input type="number" id="userLat" step="any" placeholder="37.5665">
                    </div>
                    <div class="form-group">
                        <label for="userLng">ì‚¬ìš©ì ê²½ë„ (ì„ íƒ)</label>
                        <input type="number" id="userLng" step="any" placeholder="126.9780">
                    </div>
                    <div class="form-group">
                        <label for="radius">ë°˜ê²½ (km, ì„ íƒ)</label>
                        <input type="number" id="radius" min="1" max="20" placeholder="10">
                    </div>
                    <div class="form-group">
                        <label>&nbsp;</label>
                        <button type="button" class="btn btn-secondary" onclick="getMyLocation()">
                            <i class="fas fa-crosshairs"></i> ë‚´ ìœ„ì¹˜
                        </button>
                    </div>
                </div>
                <button type="submit" class="btn">
                    <i class="fas fa-search"></i> ê²€ìƒ‰í•˜ê¸°
                </button>
            </form>
        </div>

        <!-- í‚¤ì›Œë“œ ê²€ìƒ‰ íƒ­ -->
        <div id="searchKeyword" class="tab-content">
            <h2><i class="fas fa-search"></i> í‚¤ì›Œë“œ ê²€ìƒ‰</h2>
            <form onsubmit="searchKeyword(event)">
                <div class="form-row">
                    <div class="form-group">
                        <label for="keyword">ê²€ìƒ‰ í‚¤ì›Œë“œ</label>
                        <input type="text" id="keyword" placeholder="ì˜ˆ: ê²½ë³µê¶, í•´ìš´ëŒ€, ì œì£¼ë„" required>
                    </div>
                    <div class="form-group">
                        <label for="keywordAreaCode">ì§€ì—­ì½”ë“œ</label>
                        <select id="keywordAreaCode">
                            <option value="">ì „ì²´</option>
                            <option value="1">ì„œìš¸</option>
                            <option value="6">ë¶€ì‚°</option>
                            <option value="39">ì œì£¼</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="keywordNumOfRows">ê²€ìƒ‰ ê°œìˆ˜</label>
                        <select id="keywordNumOfRows">
                            <option value="10">10ê°œ</option>
                            <option value="20">20ê°œ</option>
                            <option value="50">50ê°œ</option>
                        </select>
                    </div>
                </div>
                <div class="quick-test-buttons">
                    <button type="button" class="btn btn-secondary" onclick="setKeyword('ê²½ë³µê¶')">ê²½ë³µê¶</button>
                    <button type="button" class="btn btn-secondary" onclick="setKeyword('í•´ìš´ëŒ€')">í•´ìš´ëŒ€</button>
                    <button type="button" class="btn btn-secondary" onclick="setKeyword('ì œì£¼ë„')">ì œì£¼ë„</button>
                    <button type="button" class="btn btn-secondary" onclick="setKeyword('ë¡¯ë°ì›”ë“œ')">ë¡¯ë°ì›”ë“œ</button>
                </div>
                <button type="submit" class="btn">
                    <i class="fas fa-search"></i> ê²€ìƒ‰í•˜ê¸°
                </button>
            </form>
        </div>

        <!-- ìƒì„¸ì •ë³´ íƒ­ -->
        <div id="detailCommon" class="tab-content">
            <h2><i class="fas fa-info-circle"></i> ìƒì„¸ì •ë³´ ì¡°íšŒ</h2>
            <form onsubmit="getDetailCommon(event)">
                <div class="form-row">
                    <div class="form-group">
                        <label for="contentId">ì½˜í…ì¸  ID</label>
                        <input type="text" id="contentId" placeholder="ì˜ˆ: 126508" required>
                    </div>
                    <div class="form-group">
                        <label>&nbsp;</label>
                        <button type="submit" class="btn">
                            <i class="fas fa-info-circle"></i> ìƒì„¸ì •ë³´ ì¡°íšŒ
                        </button>
                    </div>
                </div>
            </form>
            <div class="alert alert-success">
                <i class="fas fa-lightbulb"></i>
                <strong>íŒ:</strong> ìœ„ì˜ ê²€ìƒ‰ ê²°ê³¼ì—ì„œ ì½˜í…ì¸  IDë¥¼ í´ë¦­í•˜ë©´ ìë™ìœ¼ë¡œ ë³µì‚¬ë©ë‹ˆë‹¤.
            </div>
            <div class="quick-test-buttons">
                <button type="button" class="btn btn-secondary" onclick="setContentId('126508')">ê²½ë³µê¶</button>
                <button type="button" class="btn btn-secondary" onclick="setContentId('126509')">ì°½ë•ê¶</button>
                <button type="button" class="btn btn-secondary" onclick="setContentId('264308')">í•´ìš´ëŒ€í•´ìˆ˜ìš•ì¥</button>
            </div>
        </div>

        <!-- ìœ„ì¹˜ê¸°ë°˜ ê²€ìƒ‰ íƒ­ -->
        <div id="locationBased" class="tab-content">
            <h2><i class="fas fa-map-marker-alt"></i> ìœ„ì¹˜ê¸°ë°˜ ê²€ìƒ‰</h2>
            <form onsubmit="searchLocationBased(event)">
                <div class="form-row">
                    <div class="form-group">
                        <label for="mapX">ê²½ë„ (X ì¢Œí‘œ)</label>
                        <input type="number" id="mapX" step="any" placeholder="126.9780" required>
                    </div>
                    <div class="form-group">
                        <label for="mapY">ìœ„ë„ (Y ì¢Œí‘œ)</label>
                        <input type="number" id="mapY" step="any" placeholder="37.5665" required>
                    </div>
                    <div class="form-group">
                        <label for="locationRadius">ë°˜ê²½ (m)</label>
                        <input type="number" id="locationRadius" min="1" max="20000" value="1000" required>
                    </div>
                    <div class="form-group">
                        <label for="locationNumOfRows">ê²€ìƒ‰ ê°œìˆ˜</label>
                        <select id="locationNumOfRows">
                            <option value="10">10ê°œ</option>
                            <option value="20">20ê°œ</option>
                            <option value="50">50ê°œ</option>
                        </select>
                    </div>
                </div>
                <div class="quick-test-buttons">
                    <button type="button" class="btn btn-secondary" onclick="setLocation(126.9780, 37.5665)">ëª…ë™</button>
                    <button type="button" class="btn btn-secondary" onclick="setLocation(129.1603, 35.1595)">í•´ìš´ëŒ€</button>
                    <button type="button" class="btn btn-secondary" onclick="getMyLocationForSearch()">
                        <i class="fas fa-crosshairs"></i> ë‚´ ìœ„ì¹˜
                    </button>
                </div>
                <button type="submit" class="btn">
                    <i class="fas fa-search"></i> ê²€ìƒ‰í•˜ê¸°
                </button>
            </form>
        </div>

        <!-- ì‹œìŠ¤í…œ ëª¨ë‹ˆí„° íƒ­ -->
        <div id="systemMonitor" class="tab-content">
            <h2><i class="fas fa-monitor-waveform"></i> ì‹œìŠ¤í…œ ëª¨ë‹ˆí„°ë§</h2>
            <div class="form-row">
                <button class="btn" onclick="getSystemHealth()">
                    <i class="fas fa-heartbeat"></i> í—¬ìŠ¤ì²´í¬
                </button>
                <button class="btn btn-secondary" onclick="getCacheStats()">
                    <i class="fas fa-database"></i> ìºì‹œ í†µê³„
                </button>
                <button class="btn btn-success" onclick="runTests()">
                    <i class="fas fa-vials"></i> í…ŒìŠ¤íŠ¸ ì‹¤í–‰
                </button>
                <button class="btn btn-warning" onclick="testQuickDemo()">
                    <i class="fas fa-rocket"></i> ë¹ ë¥¸ ë°ëª¨
                </button>
            </div>
            <div id="systemMetrics" class="metrics" style="display: none;">
                <!-- ë©”íŠ¸ë¦­ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
            </div>
        </div>

        <!-- ê²°ê³¼ í‘œì‹œ ì˜ì—­ -->
        <div class="results">
            <div class="results-header">
                <h3 id="resultsTitle">
                    <i class="fas fa-chart-bar"></i> ê²€ìƒ‰ ê²°ê³¼
                </h3>
                <div>
                    <button class="btn btn-secondary" onclick="copyResults()">
                        <i class="fas fa-copy"></i> ë³µì‚¬
                    </button>
                    <button class="btn btn-secondary" onclick="clearResults()">
                        <i class="fas fa-eraser"></i> ì§€ìš°ê¸°
                    </button>
                </div>
            </div>
            <div class="results-content" id="resultsContent">
                <p style="text-align: center; color: var(--text-secondary); margin: 2rem 0;">
                    <i class="fas fa-info-circle"></i>
                    ìœ„ì˜ "ë¹ ë¥¸ ì‹œì‘" íƒ­ì—ì„œ í…ŒìŠ¤íŠ¸ë¥¼ ì‹œì‘í•´ë³´ì„¸ìš”! ğŸš€
                </p>
            </div>
        </div>
    </div>

    <script>
        // ì „ì—­ ë³€ìˆ˜
        let currentLanguage = 'ko';
        let requestCount = 0;
        let totalResponseTime = 0;
        let results = [];

        // API ê¸°ë³¸ URL
        const API_BASE_URL = 'https://healingk.vercel.app';

        // ì–¸ì–´ ì„¤ì •
        const messages = {
            ko: {
                searching: 'ê²€ìƒ‰ ì¤‘...',
                error: 'ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤',
                success: 'ì„±ê³µ',
                noResults: 'ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤',
                locationError: 'ìœ„ì¹˜ ì •ë³´ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤',
                copied: 'í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤',
                coldStart: 'ì„œë²„ ì½œë“œ ìŠ¤íƒ€íŠ¸ ì¤‘... ì ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”.'
            },
            en: {
                searching: 'Searching...',
                error: 'An error occurred',
                success: 'Success',
                noResults: 'No results found',
                locationError: 'Unable to get location',
                copied: 'Copied to clipboard',
                coldStart: 'Server cold start... Please wait.'
            }
        };

        // ì´ˆê¸°í™”
        document.addEventListener('DOMContentLoaded', function() {
            const languageSelector = document.getElementById('languageSelector');
            languageSelector.addEventListener('change', function() {
                currentLanguage = this.value;
                updateLanguage();
            });

            // ì½œë“œ ìŠ¤íƒ€íŠ¸ ê²½ê³ 
            showAlert('info', 'ğŸš€ Vercel ì„œë²„ ì²« ìš”ì²­ ì‹œ ì½œë“œ ìŠ¤íƒ€íŠ¸ë¡œ 10-15ì´ˆ ì†Œìš”ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.');

            // ì´ˆê¸° í—¬ìŠ¤ì²´í¬ (ì¡°ê¸ˆ ì§€ì—°í•´ì„œ ì‹¤í–‰)
            setTimeout(healthCheck, 2000);
        });

        // ì–¸ì–´ ì—…ë°ì´íŠ¸
        function updateLanguage() {
            console.log('Language changed to:', currentLanguage);
        }

        // íƒ­ ì „í™˜
        function showTab(tabName) {
            document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));

            // í´ë¦­ëœ íƒ­ ì°¾ê¸°
            const clickedTab = Array.from(document.querySelectorAll('.tab')).find(tab => 
                tab.onclick && tab.onclick.toString().includes(tabName)
            );
            if (clickedTab) clickedTab.classList.add('active');

            document.getElementById(tabName).classList.add('active');
        }

        // ë¹ ë¥¸ í…ŒìŠ¤íŠ¸ í•¨ìˆ˜ë“¤
        async function quickTestSeoul() {
            showTab('areaBasedList');
            document.getElementById('areaCode').value = '1';
            document.getElementById('contentTypeId').value = '12';
            document.getElementById('numOfRows').value = '10';
            
            const params = {
                operation: 'areaBasedList',
                areaCode: '1',
                contentTypeId: '12',
                numOfRows: '10'
            };
            await callAPI('/api/tour', params);
        }

        async function quickTestKeyword() {
            showTab('searchKeyword');
            document.getElementById('keyword').value = 'ê²½ë³µê¶';
            
            const params = {
                operation: 'searchKeyword',
                keyword: 'ê²½ë³µê¶',
                numOfRows: '5'
            };
            await callAPI('/api/tour', params);
        }

        async function quickTestDetail() {
            showTab('detailCommon');
            document.getElementById('contentId').value = '126508';
            
            const params = {
                operation: 'detailCommon',
                contentId: '126508'
            };
            await callAPI('/api/tour', params);
        }

        async function quickTestLocation() {
            showTab('locationBased');
            document.getElementById('mapX').value = '126.9780';
            document.getElementById('mapY').value = '37.5665';
            document.getElementById('locationRadius').value = '1000';
            
            const params = {
                operation: 'locationBasedList',
                mapX: '126.9780',
                mapY: '37.5665',
                radius: '1000',
                numOfRows: '5'
            };
            await callAPI('/api/tour', params);
        }

        async function runSystemTest() {
            showAlert('info', 'ì‹œìŠ¤í…œ ì „ì²´ í…ŒìŠ¤íŠ¸ë¥¼ ì‹œì‘í•©ë‹ˆë‹¤...');
            try {
                await quickTestSeoul();
                await new Promise(resolve => setTimeout(resolve, 1000));
                await quickTestKeyword();
                await new Promise(resolve => setTimeout(resolve, 1000));
                await quickTestDetail();
                showAlert('success', 'ğŸ‰ ì‹œìŠ¤í…œ ì „ì²´ í…ŒìŠ¤íŠ¸ê°€ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!');
            } catch (error) {
                showAlert('error', 'ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
            }
        }

        // API í˜¸ì¶œ í•¨ìˆ˜
        async function callAPI(endpoint, params = {}, method = 'GET') {
            const startTime = Date.now();
            
            try {
                showLoading(true);
                
                let url = `${API_BASE_URL}${endpoint}`;
                let options = {
                    method: method,
                    headers: {
                        'Accept': 'application/json',
                        'Accept-Language': currentLanguage,
                        'Content-Type': 'application/json'
                    }
                };

                if (method === 'GET') {
                    const urlObj = new URL(url);
                    Object.entries(params).forEach(([key, value]) => {
                        if (value !== null && value !== '' && value !== undefined) {
                            urlObj.searchParams.append(key, value);
                        }
                    });
                    url = urlObj.toString();
                } else {
                    options.body = JSON.stringify(params);
                }

                const response = await fetch(url, options);
                const data = await response.json();
                const responseTime = Date.now() - startTime;
                
                // í†µê³„ ì—…ë°ì´íŠ¸
                requestCount++;
                totalResponseTime += responseTime;
                updateStats(responseTime, data.success);

                if (data.success) {
                    displayResults(data, responseTime);
                    updateApiStatus('healthy', 'ì •ìƒ');
                } else {
                    throw new Error(data.error?.message || 'Unknown error');
                }

                return data;
            } catch (error) {
                console.error('API Error:', error);
                
                // ì½œë“œ ìŠ¤íƒ€íŠ¸ ê°ì§€
                if (error.name === 'TypeError' && error.message.includes('fetch')) {
                    showAlert('warning', messages[currentLanguage].coldStart);
                } else {
                    displayError(error.message);
                }
                
                updateApiStatus('error', 'ì˜¤ë¥˜');
                throw error;
            } finally {
                showLoading(false);
            }
        }

        // ê°œë³„ API í•¨ìˆ˜ë“¤
        async function searchAreaBased(event) {
            event.preventDefault();
            
            const params = {
                operation: 'areaBasedList',
                areaCode: document.getElementById('areaCode').value,
                contentTypeId: document.getElementById('contentTypeId').value,
                numOfRows: document.getElementById('numOfRows').value,
                arrange: document.getElementById('arrange').value,
                userLat: document.getElementById('userLat').value,
                userLng: document.getElementById('userLng').value,
                radius: document.getElementById('radius').value
            };

            await callAPI('/api/tour', params);
        }

        async function searchKeyword(event) {
            event.preventDefault();
            
            const params = {
                operation: 'searchKeyword',
                keyword: document.getElementById('keyword').value,
                areaCode: document.getElementById('keywordAreaCode').value,
                numOfRows: document.getElementById('keywordNumOfRows').value
            };

            await callAPI('/api/tour', params);
        }

        async function getDetailCommon(event) {
            event.preventDefault();
            
            const params = {
                operation: 'detailCommon',
                contentId: document.getElementById('contentId').value
            };

            await callAPI('/api/tour', params);
        }

        async function searchLocationBased(event) {
            event.preventDefault();
            
            const params = {
                operation: 'locationBasedList',
                mapX: document.getElementById('mapX').value,
                mapY: document.getElementById('mapY').value,
                radius: document.getElementById('locationRadius').value,
                numOfRows: document.getElementById('locationNumOfRows').value
            };

            await callAPI('/api/tour', params);
        }

        // ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ë“¤
        function setKeyword(keyword) {
            document.getElementById('keyword').value = keyword;
        }

        function setContentId(contentId) {
            document.getElementById('contentId').value = contentId;
        }

        function setLocation(lng, lat) {
            document.getElementById('mapX').value = lng;
            document.getElementById('mapY').value = lat;
        }

        function getMyLocation() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(
                    function(position) {
                        document.getElementById('userLat').value = position.coords.latitude.toFixed(6);
                        document.getElementById('userLng').value = position.coords.longitude.toFixed(6);
                        showAlert('success', 'ğŸ“ ìœ„ì¹˜ ì •ë³´ë¥¼ ê°€ì ¸ì™”ìŠµë‹ˆë‹¤.');
                    },
                    function(error) {
                        showAlert('error', messages[currentLanguage].locationError);
                    }
                );
            } else {
                showAlert('error', 'ë¸Œë¼ìš°ì €ì—ì„œ ìœ„ì¹˜ ì„œë¹„ìŠ¤ë¥¼ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.');
            }
        }

        function getMyLocationForSearch() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(
                    function(position) {
                        document.getElementById('mapX').value = position.coords.longitude.toFixed(6);
                        document.getElementById('mapY').value = position.coords.latitude.toFixed(6);
                        showAlert('success', 'ğŸ“ ìœ„ì¹˜ ì •ë³´ë¥¼ ê°€ì ¸ì™”ìŠµë‹ˆë‹¤.');
                    },
                    function(error) {
                        showAlert('error', messages[currentLanguage].locationError);
                    }
                );
            }
        }

        // í—¬ìŠ¤ì²´í¬ ë° ì‹œìŠ¤í…œ ëª¨ë‹ˆí„°ë§
        async function healthCheck() {
            try {
                const response = await fetch(`${API_BASE_URL}/api/health`, {
                    method: 'GET',
                    headers: {
                        'Accept': 'application/json'
                    }
                });

                const data = await response.json();
                
                if (data.status === 'healthy') {
                    updateApiStatus('healthy', 'ì •ìƒ');
                    updateCacheStatus(data.cache);
                    showAlert('success', 'âœ… ì‹œìŠ¤í…œì´ ì •ìƒì ìœ¼ë¡œ ì‘ë™ ì¤‘ì…ë‹ˆë‹¤.');
                } else {
                    updateApiStatus('warning', 'ê²½ê³ ');
                }
            } catch (error) {
                updateApiStatus('error', 'ì—°ê²° ì‹¤íŒ¨');
                showAlert('error', 'ğŸ”´ API ì„œë²„ì— ì—°ê²°í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì„œë²„ê°€ ì½œë“œ ìŠ¤íƒ€íŠ¸ ì¤‘ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.');
            }
        }

        async function getSystemHealth() {
            try {
                const response = await fetch(`${API_BASE_URL}/api/health`);
                const data = await response.json();
                
                displayResults({
                    success: true,
                    operation: 'healthCheck',
                    data: data,
                    metadata: {
                        operation: 'healthCheck',
                        timestamp: new Date().toISOString()
                    }
                }, 0);
                
                showSystemMetrics(data);
            } catch (error) {
                displayError('í—¬ìŠ¤ì²´í¬ ì‹¤íŒ¨: ' + error.message);
            }
        }

        async function getCacheStats() {
            await getSystemHealth();
        }

        async function runTests() {
            try {
                const response = await fetch(`${API_BASE_URL}/api/test`);
                const data = await response.json();
                
                displayResults({
                    success: true,
                    operation: 'runTests',
                    data: data,
                    metadata: {
                        operation: 'runTests',
                        timestamp: new Date().toISOString()
                    }
                }, 0);
                
                if (data.success !== false) {
                    showAlert('success', 'âœ… ëª¨ë“  í…ŒìŠ¤íŠ¸ê°€ í†µê³¼í–ˆìŠµë‹ˆë‹¤.');
                } else {
                    showAlert('warning', 'âš ï¸ ì¼ë¶€ í…ŒìŠ¤íŠ¸ê°€ ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
                }
            } catch (error) {
                displayError('í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ì‹¤íŒ¨: ' + error.message);
            }
        }

        async function testQuickDemo() {
            showAlert('info', 'ğŸš€ ë¹ ë¥¸ ë°ëª¨ë¥¼ ì‹œì‘í•©ë‹ˆë‹¤...');
            
            try {
                await callAPI('/api/tour', {
                    operation: 'areaBasedList',
                    areaCode: '1',
                    contentTypeId: '12',
                    numOfRows: '5'
                });
                
                await new Promise(resolve => setTimeout(resolve, 1000));
                
                await callAPI('/api/tour', {
                    operation: 'searchKeyword',
                    keyword: 'ê²½ë³µê¶',
                    numOfRows: '3'
                });
                
                showAlert('success', 'ğŸ‰ ë¹ ë¥¸ ë°ëª¨ê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!');
            } catch (error) {
                showAlert('error', 'âŒ ë°ëª¨ ì‹¤í–‰ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
            }
        }

        // ê²°ê³¼ í‘œì‹œ í•¨ìˆ˜
        function displayResults(data, responseTime) {
            results.push({
                timestamp: new Date().toISOString(),
                operation: data.operation,
                data: data,
                responseTime: responseTime
            });

            const resultsContent = document.getElementById('resultsContent');
            const resultsTitle = document.getElementById('resultsTitle');
            
            resultsTitle.innerHTML = `<i class="fas fa-chart-bar"></i> ${data.operation} ê²°ê³¼ (${responseTime}ms)`;
            
            let resultHtml = '';
            
            // ê²€ìƒ‰ ê²°ê³¼ì¸ ê²½ìš° ì¹´ë“œ í˜•íƒœë¡œ í‘œì‹œ
            if (data.data?.items && Array.isArray(data.data.items)) {
                resultHtml = `
                    <div class="result-item">
                        <div class="result-meta">
                            <strong>ì‘ì—…:</strong> ${data.operation} | 
                            <strong>ì‘ë‹µì‹œê°„:</strong> ${responseTime}ms | 
                            <strong>ì‹œê°„:</strong> ${new Date().toLocaleString()} |
                            <strong>ê²°ê³¼:</strong> ${data.data.items.length}ê°œ
                            ${data.metadata?.cache?.fromCache ? ' | <span style="color: var(--success-color)">ğŸš€ ìºì‹œë¨</span>' : ''}
                        </div>
                        <div class="result-cards">
                            ${data.data.items.slice(0, 12).map(item => `
                                <div class="result-card">
                                    <h4>${item.title || 'No Title'}</h4>
                                    <p><strong>ğŸ“ ì£¼ì†Œ:</strong> ${item.addr1 || 'No Address'}</p>
                                    <p><strong>ğŸ·ï¸ íƒ€ì…:</strong> ${item.meta?.typeName || 'Unknown'} ${item.meta?.typeIcon || ''}</p>
                                    <p><strong>ğŸ—ºï¸ ì§€ì—­:</strong> ${item.meta?.areaName || 'Unknown'} ${item.meta?.areaEmoji || ''}</p>
                                    ${item.distance ? `<p><strong>ğŸ“ ê±°ë¦¬:</strong> ${item.meta?.distanceText || item.distance + 'km'}</p>` : ''}
                                    <div class="content-id" onclick="copyContentId('${item.contentId}')" title="í´ë¦­í•˜ì—¬ ë³µì‚¬">
                                        ğŸ“‹ ID: ${item.contentId}
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                        ${data.data.items.length > 12 ? `<p style="text-align: center; color: var(--text-secondary); margin-top: 1rem;">... ì™¸ ${data.data.items.length - 12}ê°œ ë” (ì „ì²´ JSONì—ì„œ í™•ì¸)</p>` : ''}
                        <details style="margin-top: 1rem;">
                            <summary style="cursor: pointer; color: var(--primary-color);">ğŸ“„ ì „ì²´ JSON ë°ì´í„° ë³´ê¸°</summary>
                            <div class="json-viewer">${JSON.stringify(data, null, 2)}</div>
                        </details>
                    </div>
                `;
            } else {
                // ì¼ë°˜ JSON ê²°ê³¼
                resultHtml = `
                    <div class="result-item">
                        <div class="result-meta">
                            <strong>ì‘ì—…:</strong> ${data.operation} | 
                            <strong>ì‘ë‹µì‹œê°„:</strong> ${responseTime}ms | 
                            <strong>ì‹œê°„:</strong> ${new Date().toLocaleString()}
                            ${data.metadata?.cache?.fromCache ? ' | <span style="color: var(--success-color)">ğŸš€ ìºì‹œë¨</span>' : ''}
                        </div>
                        <div class="json-viewer">${JSON.stringify(data, null, 2)}</div>
                    </div>
                `;
            }
            
            resultsContent.innerHTML = resultHtml + resultsContent.innerHTML;
        }

        function copyContentId(contentId) {
            navigator.clipboard.writeText(contentId).then(() => {
                showAlert('success', `ğŸ“‹ ì½˜í…ì¸  ID ${contentId}ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤.`);
                document.getElementById('contentId').value = contentId;
            });
        }

        function displayError(message) {
            const resultsContent = document.getElementById('resultsContent');
            const resultsTitle = document.getElementById('resultsTitle');
            
            resultsTitle.innerHTML = `<i class="fas fa-exclamation-triangle"></i> ì˜¤ë¥˜ ë°œìƒ`;
            
            const errorHtml = `
                <div class="result-item" style="border-left-color: var(--error-color)">
                    <div class="result-meta">
                        <strong>ì˜¤ë¥˜:</strong> ${new Date().toLocaleString()}
                    </div>
                    <div style="color: var(--error-color); padding: 1rem; background: rgba(239, 68, 68, 0.1); border-radius: 6px;">
                        <i class="fas fa-exclamation-circle"></i> ${message}
                    </div>
                </div>
            `;
            
            resultsContent.innerHTML = errorHtml + resultsContent.innerHTML;
        }

        function showSystemMetrics(healthData) {
            const metricsContainer = document.getElementById('systemMetrics');
            
            const metricsHtml = `
                <div class="metric">
                    <div class="metric-value">${healthData.uptime?.hours || 0}h</div>
                    <div class="metric-label">ì—…íƒ€ì„</div>
                </div>
                <div class="metric">
                    <div class="metric-value">${healthData.memory?.heapUsed || 0}MB</div>
                    <div class="metric-label">ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰</div>
                </div>
                <div class="metric">
                    <div class="metric-value">${healthData.cache?.size || 0}</div>
                    <div class="metric-label">ìºì‹œ í•­ëª©</div>
                </div>
                <div class="metric">
                    <div class="metric-value">${Math.round(healthData.cache?.hitRate || 0)}%</div>
                    <div class="metric-label">ìºì‹œ ì ì¤‘ë¥ </div>
                </div>
                <div class="metric">
                    <div class="metric-value">${healthData.config?.maxConcurrent || 0}</div>
                    <div class="metric-label">ìµœëŒ€ ë™ì‹œìš”ì²­</div>
                </div>
                <div class="metric">
                    <div class="metric-value">${healthData.config?.environment || 'unknown'}</div>
                    <div class="metric-label">í™˜ê²½</div>
                </div>
            `;
            
            metricsContainer.innerHTML = metricsHtml;
            metricsContainer.style.display = 'grid';
        }

        // ìƒíƒœ ì—…ë°ì´íŠ¸ í•¨ìˆ˜ë“¤
        function updateStats(responseTime, success) {
            const avgResponseTime = totalResponseTime / requestCount;
            document.getElementById('performanceStatusText').textContent = `${Math.round(avgResponseTime)}ms`;
            document.getElementById('requestStatusText').textContent = requestCount;
        }

        function updateApiStatus(status, text) {
            const statusCard = document.getElementById('apiStatus');
            statusCard.className = `status-card ${status}`;
            document.getElementById('apiStatusText').textContent = text;
        }

        function updateCacheStatus(cacheData) {
            if (cacheData) {
                document.getElementById('cacheStatusText').textContent = 
                    `${cacheData.size}/${cacheData.maxSize} (${Math.round(cacheData.hitRate)}%)`;
            }
        }

        function showLoading(show) {
            const buttons = document.querySelectorAll('button[type="submit"], .btn');
            buttons.forEach(button => {
                if (show) {
                    button.disabled = true;
                    const originalText = button.innerHTML;
                    button.setAttribute('data-original-text', originalText);
                    button.innerHTML = '<div class="loading"></div> ' + messages[currentLanguage].searching;
                } else {
                    button.disabled = false;
                    const originalText = button.getAttribute('data-original-text');
                    if (originalText) {
                        button.innerHTML = originalText;
                    }
                }
            });
        }

        function showAlert(type, message) {
            const alert = document.createElement('div');
            alert.className = `alert alert-${type}`;
            alert.innerHTML = `
                <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-circle' : type === 'info' ? 'info-circle' : 'exclamation-triangle'}"></i>
                ${message}
            `;
            
            document.querySelector('.container').insertBefore(alert, document.querySelector('.tabs'));
            
            setTimeout(() => {
                alert.remove();
            }, 5000);
        }

        function copyResults() {
            if (results.length === 0) {
                showAlert('warning', 'ë³µì‚¬í•  ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.');
                return;
            }
            
            const text = JSON.stringify(results, null, 2);
            navigator.clipboard.writeText(text).then(() => {
                showAlert('success', messages[currentLanguage].copied);
            });
        }

        function clearResults() {
            results = [];
            document.getElementById('resultsContent').innerHTML = `
                <p style="text-align: center; color: var(--text-secondary); margin: 2rem 0;">
                    <i class="fas fa-info-circle"></i>
                    ìœ„ì˜ "ë¹ ë¥¸ ì‹œì‘" íƒ­ì—ì„œ í…ŒìŠ¤íŠ¸ë¥¼ ì‹œì‘í•´ë³´ì„¸ìš”! ğŸš€
                </p>
            `;
            document.getElementById('resultsTitle').innerHTML = '<i class="fas fa-chart-bar"></i> ê²€ìƒ‰ ê²°ê³¼';
        }
    </script>
</body>
</html>
