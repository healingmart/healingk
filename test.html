<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tourism.js ì§„ì§œ API í…ŒìŠ¤íŠ¸</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .header {
            background: #007bff;
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            margin-bottom: 20px;
        }
        .test-section {
            background: white;
            margin: 20px 0;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .btn {
            background: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            margin: 5px;
            border-radius: 5px;
            cursor: pointer;
        }
        .btn:hover {
            background: #0056b3;
        }
        .result {
            background: #f8f9fa;
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 15px;
            margin: 10px 0;
            font-family: monospace;
            font-size: 12px;
            max-height: 400px;
            overflow-y: auto;
            white-space: pre-wrap;
        }
        .success { border-color: #28a745; background: #d4edda; }
        .error { border-color: #dc3545; background: #f8d7da; }
        .loading { color: #007bff; font-weight: bold; }
        .input-group {
            margin: 10px 0;
        }
        .input-group label {
            display: inline-block;
            width: 100px;
            font-weight: bold;
        }
        .input-group input, .input-group select {
            padding: 5px;
            border: 1px solid #ddd;
            border-radius: 3px;
            width: 200px;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>ğŸ”¥ Tourism.js ì‹¤ì œ API í˜¸ì¶œ í…ŒìŠ¤íŠ¸</h1>
        <p>ì§„ì§œ í•œêµ­ê´€ê´‘ê³µì‚¬ APIë¥¼ í˜¸ì¶œí•´ì„œ ì‹¤ì œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤!</p>
    </div>

    <!-- API ìƒíƒœ í™•ì¸ -->
    <div class="test-section">
        <h2>ğŸ” API ìƒíƒœ í™•ì¸</h2>
        <button class="btn" onclick="checkHealth()">í—¬ìŠ¤ì²´í¬</button>
        <button class="btn" onclick="checkSystemStatus()">ì‹œìŠ¤í…œ ìƒíƒœ</button>
        <div id="status-result" class="result" style="display:none;"></div>
    </div>

    <!-- ì§€ì—­ë³„ ê´€ê´‘ì§€ ì¡°íšŒ -->
    <div class="test-section">
        <h2>ğŸ›ï¸ ì§€ì—­ë³„ ê´€ê´‘ì§€ ì¡°íšŒ (ì§„ì§œ API)</h2>
        
        <div class="input-group">
            <label>ì§€ì—­:</label>
            <select id="area-code">
                <option value="1">ì„œìš¸</option>
                <option value="6">ë¶€ì‚°</option>
                <option value="32">ê°•ì›ë„</option>
                <option value="39">ì œì£¼ë„</option>
            </select>
        </div>
        
        <div class="input-group">
            <label>íƒ€ì…:</label>
            <select id="content-type">
                <option value="12">ê´€ê´‘ì§€</option>
                <option value="14">ë¬¸í™”ì‹œì„¤</option>
                <option value="15">ì¶•ì œí–‰ì‚¬</option>
                <option value="32">ìˆ™ë°•</option>
                <option value="39">ìŒì‹ì </option>
            </select>
        </div>
        
        <div class="input-group">
            <label>ê°œìˆ˜:</label>
            <select id="num-rows">
                <option value="5">5ê°œ</option>
                <option value="10" selected>10ê°œ</option>
                <option value="20">20ê°œ</option>
            </select>
        </div>
        
        <button class="btn" onclick="testAreaBasedList()">ğŸ”¥ ì‹¤ì œ API í˜¸ì¶œ!</button>
        <div id="area-result" class="result" style="display:none;"></div>
    </div>

    <!-- í‚¤ì›Œë“œ ê²€ìƒ‰ -->
    <div class="test-section">
        <h2>ğŸ” í‚¤ì›Œë“œ ê²€ìƒ‰ (ì§„ì§œ API)</h2>
        
        <div class="input-group">
            <label>í‚¤ì›Œë“œ:</label>
            <input type="text" id="keyword" value="ê²½ë³µê¶" placeholder="ê²€ìƒ‰í•  í‚¤ì›Œë“œ">
        </div>
        
        <button class="btn" onclick="testSearchKeyword()">ğŸ”¥ í‚¤ì›Œë“œ ê²€ìƒ‰!</button>
        <div id="search-result" class="result" style="display:none;"></div>
    </div>

    <!-- ìƒì„¸ ì •ë³´ ì¡°íšŒ -->
    <div class="test-section">
        <h2>ğŸ“„ ìƒì„¸ ì •ë³´ ì¡°íšŒ (ì§„ì§œ API)</h2>
        
        <div class="input-group">
            <label>ì½˜í…ì¸ ID:</label>
            <input type="text" id="content-id" value="126508" placeholder="ì½˜í…ì¸  ID">
        </div>
        
        <button class="btn" onclick="testDetailCommon()">ğŸ”¥ ìƒì„¸ì •ë³´ ê°€ì ¸ì˜¤ê¸°!</button>
        <div id="detail-result" class="result" style="display:none;"></div>
    </div>

    <!-- ìœ„ì¹˜ ê¸°ë°˜ ê²€ìƒ‰ -->
    <div class="test-section">
        <h2>ğŸ“ ìœ„ì¹˜ ê¸°ë°˜ ê²€ìƒ‰ (ì§„ì§œ API)</h2>
        
        <div class="input-group">
            <label>ìœ„ë„:</label>
            <input type="text" id="map-y" value="37.5665" placeholder="ìœ„ë„">
        </div>
        
        <div class="input-group">
            <label>ê²½ë„:</label>
            <input type="text" id="map-x" value="126.9780" placeholder="ê²½ë„">
        </div>
        
        <div class="input-group">
            <label>ë°˜ê²½(m):</label>
            <input type="text" id="radius" value="1000" placeholder="ë°˜ê²½">
        </div>
        
        <button class="btn" onclick="testLocationBased()">ğŸ”¥ ìœ„ì¹˜ ê²€ìƒ‰!</button>
        <div id="location-result" class="result" style="display:none;"></div>
    </div>

    <!-- ë°°ì¹˜ ìš”ì²­ í…ŒìŠ¤íŠ¸ -->
    <div class="test-section">
        <h2>ğŸ“¦ ë°°ì¹˜ ìš”ì²­ (ì§„ì§œ API)</h2>
        <p>ì—¬ëŸ¬ APIë¥¼ í•œë²ˆì— í˜¸ì¶œí•©ë‹ˆë‹¤</p>
        
        <button class="btn" onclick="testBatchRequest()">ğŸ”¥ ë°°ì¹˜ ìš”ì²­!</button>
        <div id="batch-result" class="result" style="display:none;"></div>
    </div>

    <div id="loading" class="loading" style="display:none;">â³ ì‹¤ì œ API í˜¸ì¶œ ì¤‘...</div>

    <!-- tourism.js ë¡œë“œ -->
    <script src="./tourism.js"></script>
    
    <script>
        let api = null;

        // í˜ì´ì§€ ë¡œë“œ ì‹œ tourism.js API ì´ˆê¸°í™”
        window.addEventListener('load', async function() {
            console.log('ğŸš€ Tourism.js ë¡œë”© ì‹œì‘...');
            
            try {
                // ì‹¤ì œ tourism.jsì˜ AllTourismAPI í´ë˜ìŠ¤ ì‚¬ìš©
                api = new AllTourismAPI();
                console.log('âœ… AllTourismAPI ì¸ìŠ¤í„´ìŠ¤ ìƒì„± ì™„ë£Œ');
                console.log('ğŸ“¡ API ì¸ìŠ¤í„´ìŠ¤:', api);
                
                // ì´ˆê¸° ìƒíƒœ í™•ì¸
                await checkHealth();
                
            } catch (error) {
                console.error('âŒ API ì´ˆê¸°í™” ì‹¤íŒ¨:', error);
                showResult('status-result', `API ì´ˆê¸°í™” ì‹¤íŒ¨: ${error.message}`, true);
            }
        });

        function showLoading() {
            document.getElementById('loading').style.display = 'block';
        }

        function hideLoading() {
            document.getElementById('loading').style.display = 'none';
        }

        function showResult(elementId, data, isError = false) {
            hideLoading();
            const element = document.getElementById(elementId);
            element.style.display = 'block';
            element.className = `result ${isError ? 'error' : 'success'}`;
            
            if (typeof data === 'object') {
                element.textContent = JSON.stringify(data, null, 2);
            } else {
                element.textContent = data;
            }
        }

        // í—¬ìŠ¤ì²´í¬
        async function checkHealth() {
            showLoading();
            try {
                console.log('ğŸ” í—¬ìŠ¤ì²´í¬ ì‹œì‘...');
                
                // ì‹¤ì œ healthCheck í•¨ìˆ˜ í˜¸ì¶œ
                const result = await healthCheck();
                
                console.log('âœ… í—¬ìŠ¤ì²´í¬ ì™„ë£Œ:', result);
                showResult('status-result', result);
                
            } catch (error) {
                console.error('âŒ í—¬ìŠ¤ì²´í¬ ì‹¤íŒ¨:', error);
                showResult('status-result', `í—¬ìŠ¤ì²´í¬ ì‹¤íŒ¨: ${error.message}`, true);
            }
        }

        // ì‹œìŠ¤í…œ ìƒíƒœ í™•ì¸
        async function checkSystemStatus() {
            showLoading();
            try {
                console.log('ğŸ“Š ì‹œìŠ¤í…œ ìƒíƒœ í™•ì¸ ì‹œì‘...');
                
                if (!api) {
                    throw new Error('API ì¸ìŠ¤í„´ìŠ¤ê°€ ì—†ìŠµë‹ˆë‹¤');
                }
                
                // ì‹¤ì œ tourism.jsì˜ getSystemStatus ë©”ì„œë“œ í˜¸ì¶œ
                const result = api.getSystemStatus();
                
                console.log('âœ… ì‹œìŠ¤í…œ ìƒíƒœ í™•ì¸ ì™„ë£Œ:', result);
                showResult('status-result', result);
                
            } catch (error) {
                console.error('âŒ ì‹œìŠ¤í…œ ìƒíƒœ í™•ì¸ ì‹¤íŒ¨:', error);
                showResult('status-result', `ì‹œìŠ¤í…œ ìƒíƒœ í™•ì¸ ì‹¤íŒ¨: ${error.message}`, true);
            }
        }

        // ì§€ì—­ë³„ ê´€ê´‘ì§€ ì¡°íšŒ
        async function testAreaBasedList() {
            showLoading();
            try {
                console.log('ğŸ›ï¸ ì§€ì—­ë³„ ê´€ê´‘ì§€ ì¡°íšŒ ì‹œì‘...');
                
                if (!api) {
                    throw new Error('API ì¸ìŠ¤í„´ìŠ¤ê°€ ì—†ìŠµë‹ˆë‹¤');
                }
                
                const params = {
                    areaCode: document.getElementById('area-code').value,
                    contentTypeId: document.getElementById('content-type').value,
                    numOfRows: document.getElementById('num-rows').value,
                    pageNo: '1',
                    arrange: 'A'
                };
                
                console.log('ğŸ“¤ API íŒŒë¼ë¯¸í„°:', params);
                
                // ì‹¤ì œ tourism.jsì˜ areaBasedList ë©”ì„œë“œ í˜¸ì¶œ
                const result = await api.areaBasedList(params);
                
                console.log('âœ… ì§€ì—­ë³„ ê´€ê´‘ì§€ ì¡°íšŒ ì™„ë£Œ:', result);
                showResult('area-result', result);
                
            } catch (error) {
                console.error('âŒ ì§€ì—­ë³„ ê´€ê´‘ì§€ ì¡°íšŒ ì‹¤íŒ¨:', error);
                showResult('area-result', `API í˜¸ì¶œ ì‹¤íŒ¨: ${error.message}`, true);
            }
        }

        // í‚¤ì›Œë“œ ê²€ìƒ‰
        async function testSearchKeyword() {
            showLoading();
            try {
                console.log('ğŸ” í‚¤ì›Œë“œ ê²€ìƒ‰ ì‹œì‘...');
                
                if (!api) {
                    throw new Error('API ì¸ìŠ¤í„´ìŠ¤ê°€ ì—†ìŠµë‹ˆë‹¤');
                }
                
                const keyword = document.getElementById('keyword').value.trim();
                if (!keyword) {
                    throw new Error('í‚¤ì›Œë“œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”');
                }
                
                const params = {
                    keyword: keyword,
                    numOfRows: '10',
                    pageNo: '1',
                    arrange: 'A'
                };
                
                console.log('ğŸ“¤ ê²€ìƒ‰ íŒŒë¼ë¯¸í„°:', params);
                
                // ì‹¤ì œ tourism.jsì˜ searchKeyword ë©”ì„œë“œ í˜¸ì¶œ
                const result = await api.searchKeyword(params);
                
                console.log('âœ… í‚¤ì›Œë“œ ê²€ìƒ‰ ì™„ë£Œ:', result);
                showResult('search-result', result);
                
            } catch (error) {
                console.error('âŒ í‚¤ì›Œë“œ ê²€ìƒ‰ ì‹¤íŒ¨:', error);
                showResult('search-result', `ê²€ìƒ‰ ì‹¤íŒ¨: ${error.message}`, true);
            }
        }

        // ìƒì„¸ ì •ë³´ ì¡°íšŒ
        async function testDetailCommon() {
            showLoading();
            try {
                console.log('ğŸ“„ ìƒì„¸ ì •ë³´ ì¡°íšŒ ì‹œì‘...');
                
                if (!api) {
                    throw new Error('API ì¸ìŠ¤í„´ìŠ¤ê°€ ì—†ìŠµë‹ˆë‹¤');
                }
                
                const contentId = document.getElementById('content-id').value.trim();
                if (!contentId) {
                    throw new Error('ì½˜í…ì¸  IDë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”');
                }
                
                const params = {
                    contentId: contentId
                };
                
                console.log('ğŸ“¤ ìƒì„¸ì •ë³´ íŒŒë¼ë¯¸í„°:', params);
                
                // ì‹¤ì œ tourism.jsì˜ detailCommon ë©”ì„œë“œ í˜¸ì¶œ
                const result = await api.detailCommon(params);
                
                console.log('âœ… ìƒì„¸ ì •ë³´ ì¡°íšŒ ì™„ë£Œ:', result);
                showResult('detail-result', result);
                
            } catch (error) {
                console.error('âŒ ìƒì„¸ ì •ë³´ ì¡°íšŒ ì‹¤íŒ¨:', error);
                showResult('detail-result', `ìƒì„¸ì •ë³´ ì¡°íšŒ ì‹¤íŒ¨: ${error.message}`, true);
            }
        }

        // ìœ„ì¹˜ ê¸°ë°˜ ê²€ìƒ‰
        async function testLocationBased() {
            showLoading();
            try {
                console.log('ğŸ“ ìœ„ì¹˜ ê¸°ë°˜ ê²€ìƒ‰ ì‹œì‘...');
                
                if (!api) {
                    throw new Error('API ì¸ìŠ¤í„´ìŠ¤ê°€ ì—†ìŠµë‹ˆë‹¤');
                }
                
                const mapY = document.getElementById('map-y').value.trim();
                const mapX = document.getElementById('map-x').value.trim();
                const radius = document.getElementById('radius').value.trim();
                
                if (!mapY || !mapX) {
                    throw new Error('ìœ„ë„ì™€ ê²½ë„ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”');
                }
                
                const params = {
                    mapX: mapX,
                    mapY: mapY,
                    radius: radius || '1000',
                    numOfRows: '10',
                    pageNo: '1',
                    arrange: 'A'
                };
                
                console.log('ğŸ“¤ ìœ„ì¹˜ ê²€ìƒ‰ íŒŒë¼ë¯¸í„°:', params);
                
                // ì‹¤ì œ tourism.jsì˜ locationBasedList ë©”ì„œë“œ í˜¸ì¶œ
                const result = await api.locationBasedList(params);
                
                console.log('âœ… ìœ„ì¹˜ ê¸°ë°˜ ê²€ìƒ‰ ì™„ë£Œ:', result);
                showResult('location-result', result);
                
            } catch (error) {
                console.error('âŒ ìœ„ì¹˜ ê¸°ë°˜ ê²€ìƒ‰ ì‹¤íŒ¨:', error);
                showResult('location-result', `ìœ„ì¹˜ ê²€ìƒ‰ ì‹¤íŒ¨: ${error.message}`, true);
            }
        }

        // ë°°ì¹˜ ìš”ì²­
        async function testBatchRequest() {
            showLoading();
            try {
                console.log('ğŸ“¦ ë°°ì¹˜ ìš”ì²­ ì‹œì‘...');
                
                if (!api) {
                    throw new Error('API ì¸ìŠ¤í„´ìŠ¤ê°€ ì—†ìŠµë‹ˆë‹¤');
                }
                
                const operations = [
                    {
                        operation: 'areaBasedList',
                        params: {
                            areaCode: '1',
                            contentTypeId: '12',
                            numOfRows: '3'
                        }
                    },
                    {
                        operation: 'searchKeyword',
                        params: {
                            keyword: 'ê²½ë³µê¶',
                            numOfRows: '2'
                        }
                    },
                    {
                        operation: 'detailCommon',
                        params: {
                            contentId: '126508'
                        }
                    }
                ];
                
                console.log('ğŸ“¤ ë°°ì¹˜ ìš”ì²­ íŒŒë¼ë¯¸í„°:', operations);
                
                // ì‹¤ì œ tourism.jsì˜ batchRequest ë©”ì„œë“œ í˜¸ì¶œ
                const result = await api.batchRequest(operations);
                
                console.log('âœ… ë°°ì¹˜ ìš”ì²­ ì™„ë£Œ:', result);
                showResult('batch-result', result);
                
            } catch (error) {
                console.error('âŒ ë°°ì¹˜ ìš”ì²­ ì‹¤íŒ¨:', error);
                showResult('batch-result', `ë°°ì¹˜ ìš”ì²­ ì‹¤íŒ¨: ${error.message}`, true);
            }
        }
    </script>
</body>
</html>
