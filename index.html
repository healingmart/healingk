<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í•œêµ­ê´€ê´‘ê³µì‚¬ API í†µí•© í…ŒìŠ¤í„°</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .main-container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            font-weight: 300;
        }
        
        .header p {
            opacity: 0.9;
            font-size: 1.1em;
        }
        
        .api-info {
            background: #e8f4fd;
            padding: 15px;
            margin: 20px;
            border-radius: 8px;
            border-left: 4px solid #007bff;
        }
        
        .api-info strong {
            color: #007bff;
        }
        
        .content {
            padding: 30px;
        }
        
        .test-section {
            background: #f8f9fa;
            margin-bottom: 25px;
            border-radius: 10px;
            overflow: hidden;
            border: 1px solid #e9ecef;
            transition: all 0.3s ease;
        }
        
        .test-section:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }
        
        .section-header {
            background: linear-gradient(135deg, #6c757d 0%, #495057 100%);
            color: white;
            padding: 20px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .section-header h3 {
            font-size: 1.3em;
            font-weight: 500;
        }
        
        .toggle-icon {
            font-size: 1.2em;
            transition: transform 0.3s ease;
        }
        
        .section-content {
            padding: 25px;
            display: none;
        }
        
        .section-content.active {
            display: block;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #495057;
        }
        
        .form-row {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        .form-col {
            flex: 1;
            min-width: 200px;
        }
        
        input[type="text"], 
        input[type="number"], 
        select, 
        textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #e9ecef;
            border-radius: 6px;
            font-size: 14px;
            transition: border-color 0.3s ease;
        }
        
        input:focus, 
        select:focus, 
        textarea:focus {
            outline: none;
            border-color: #007bff;
            box-shadow: 0 0 0 0.2rem rgba(0,123,255,.25);
        }
        
        .btn {
            background: linear-gradient(135deg, #007bff 0%, #0056b3 100%);
            color: white;
            padding: 12px 25px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 500;
            transition: all 0.3s ease;
            margin-right: 10px;
            margin-bottom: 10px;
        }
        
        .btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0,123,255,0.3);
        }
        
        .btn-secondary {
            background: linear-gradient(135deg, #6c757d 0%, #495057 100%);
        }
        
        .btn-success {
            background: linear-gradient(135deg, #28a745 0%, #1e7e34 100%);
        }
        
        .btn-danger {
            background: linear-gradient(135deg, #dc3545 0%, #bd2130 100%);
        }
        
        .status-container {
            background: white;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            border: 1px solid #e9ecef;
        }
        
        .status {
            font-weight: 600;
            margin-bottom: 15px;
            padding: 10px;
            border-radius: 6px;
            text-align: center;
        }
        
        .status.loading {
            background: #fff3cd;
            color: #856404;
            border: 1px solid #ffeaa7;
        }
        
        .status.success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .status.error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        .result-container {
            background: #2d2d2d;
            border-radius: 8px;
            overflow: hidden;
        }
        
        .result-header {
            background: #1a1a1a;
            color: white;
            padding: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .copy-btn {
            background: #28a745;
            color: white;
            border: none;
            padding: 5px 12px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
        }
        
        .result-content {
            color: #f8f8f2;
            padding: 20px;
            white-space: pre-wrap;
            word-wrap: break-word;
            font-family: 'Monaco', 'Courier New', monospace;
            font-size: 13px;
            max-height: 600px;
            overflow-y: auto;
            line-height: 1.4;
        }
        
        .quick-tests {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-bottom: 20px;
        }
        
        .help-text {
            font-size: 12px;
            color: #6c757d;
            margin-top: 5px;
            font-style: italic;
        }
        
        .loading-spinner {
            display: inline-block;
            width: 16px;
            height: 16px;
            border: 2px solid #f3f3f3;
            border-top: 2px solid #007bff;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-right: 8px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .stats {
            display: flex;
            gap: 20px;
            background: #f8f9fa;
            padding: 15px;
            border-radius: 6px;
            margin-bottom: 20px;
        }
        
        .stat-item {
            text-align: center;
        }
        
        .stat-value {
            font-size: 1.5em;
            font-weight: bold;
            color: #007bff;
        }
        
        .stat-label {
            font-size: 0.9em;
            color: #6c757d;
        }

        @media (max-width: 768px) {
            .form-row {
                flex-direction: column;
            }
            
            .quick-tests {
                flex-direction: column;
            }
            
            .stats {
                flex-direction: column;
                gap: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="main-container">
        <div class="header">
            <h1>ğŸ›ï¸ í•œêµ­ê´€ê´‘ê³µì‚¬ API í†µí•© í…ŒìŠ¤í„°</h1>
            <p>ê´€ê´‘ ì •ë³´ APIì˜ ëª¨ë“  ê¸°ëŠ¥ì„ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆëŠ” ì™„ì „í•œ ë„êµ¬</p>
        </div>

        <div class="api-info">
            <strong>ğŸ”— API ì—”ë“œí¬ì¸íŠ¸:</strong> <span id="apiUrlDisplay">ìë™ ê°ì§€ ì¤‘...</span><br>
            <strong>ğŸ“ ì§€ì› ê¸°ëŠ¥:</strong> í‚¤ì›Œë“œ ê²€ìƒ‰, ì§€ì—­ë³„ ì¡°íšŒ, ìœ„ì¹˜ ê¸°ë°˜ ê²€ìƒ‰, ìƒì„¸ ì •ë³´ ì¡°íšŒ, ë°°ì¹˜ ìš”ì²­
        </div>

        <div class="content">
            <!-- í†µê³„ ì •ë³´ -->
            <div class="stats">
                <div class="stat-item">
                    <div class="stat-value" id="totalRequests">0</div>
                    <div class="stat-label">ì´ ìš”ì²­ ìˆ˜</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="successRequests">0</div>
                    <div class="stat-label">ì„±ê³µ</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="errorRequests">0</div>
                    <div class="stat-label">ì‹¤íŒ¨</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="avgResponseTime">0ms</div>
                    <div class="stat-label">í‰ê·  ì‘ë‹µì‹œê°„</div>
                </div>
            </div>

            <!-- 1. í‚¤ì›Œë“œ ê²€ìƒ‰ -->
            <div class="test-section">
                <div class="section-header" onclick="toggleSection('keyword')">
                    <h3>ğŸ” í‚¤ì›Œë“œ ê²€ìƒ‰ (searchKeyword)</h3>
                    <span class="toggle-icon" id="keyword-icon">â–¼</span>
                </div>
                <div class="section-content active" id="keyword-content">
                    <div class="quick-tests">
                        <button class="btn btn-secondary" onclick="setKeywordTest('ì„œìš¸íƒ€ì›Œ')">ì„œìš¸íƒ€ì›Œ</button>
                        <button class="btn btn-secondary" onclick="setKeywordTest('ê²½ë³µê¶')">ê²½ë³µê¶</button>
                        <button class="btn btn-secondary" onclick="setKeywordTest('ì œì£¼ë„')">ì œì£¼ë„</button>
                        <button class="btn btn-secondary" onclick="setKeywordTest('ë¶€ì‚°')">ë¶€ì‚°</button>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-col">
                            <label>ê²€ìƒ‰ í‚¤ì›Œë“œ *</label>
                            <input type="text" id="keyword" placeholder="ì˜ˆ: ê²½ë³µê¶, ì„œìš¸íƒ€ì›Œ, ì œì£¼ë„" value="ëŒ€êµ¬">
                            <div class="help-text">ê´€ê´‘ì§€, ì§€ì—­ëª…, ì¶•ì œëª… ë“±ì„ ì…ë ¥í•˜ì„¸ìš”</div>
                        </div>
                        <div class="form-col">
                            <label>ê²°ê³¼ ìˆ˜</label>
                            <select id="keywordRows">
                                <option value="10">10ê°œ</option>
                                <option value="20">20ê°œ</option>
                                <option value="50">50ê°œ</option>
                                <option value="100">100ê°œ</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-col">
                            <label>ì½˜í…ì¸  íƒ€ì…</label>
                            <select id="keywordContentType">
                                <option value="">ì „ì²´</option>
                                <option value="12">ê´€ê´‘ì§€</option>
                                <option value="14">ë¬¸í™”ì‹œì„¤</option>
                                <option value="15">ì¶•ì œê³µì—°í–‰ì‚¬</option>
                                <option value="25">ì—¬í–‰ì½”ìŠ¤</option>
                                <option value="28">ë ˆí¬ì¸ </option>
                                <option value="32">ìˆ™ë°•</option>
                                <option value="38">ì‡¼í•‘</option>
                                <option value="39">ìŒì‹ì </option>
                            </select>
                        </div>
                        <div class="form-col">
                            <label>ì§€ì—­ ì½”ë“œ</label>
                            <select id="keywordAreaCode">
                                <option value="">ì „ì²´</option>
                                <option value="1">ì„œìš¸</option>
                                <option value="2">ì¸ì²œ</option>
                                <option value="3">ëŒ€ì „</option>
                                <option value="4">ëŒ€êµ¬</option>
                                <option value="5">ê´‘ì£¼</option>
                                <option value="6">ë¶€ì‚°</option>
                                <option value="7">ìš¸ì‚°</option>
                                <option value="8">ì„¸ì¢…</option>
                                <option value="31">ê²½ê¸°ë„</option>
                                <option value="32">ê°•ì›ë„</option>
                                <option value="33">ì¶©ì²­ë¶ë„</option>
                                <option value="34">ì¶©ì²­ë‚¨ë„</option>
                                <option value="35">ê²½ìƒë¶ë„</option>
                                <option value="36">ê²½ìƒë‚¨ë„</option>
                                <option value="37">ì „ë¼ë¶ë„</option>
                                <option value="38">ì „ë¼ë‚¨ë„</option>
                                <option value="39">ì œì£¼ë„</option>
                            </select>
                        </div>
                    </div>
                    
                    <button class="btn" onclick="searchByKeyword()">ğŸ” í‚¤ì›Œë“œ ê²€ìƒ‰ ì‹¤í–‰</button>
                </div>
            </div>

            <!-- 2. ì§€ì—­ ê¸°ë°˜ ì¡°íšŒ -->
            <div class="test-section">
                <div class="section-header" onclick="toggleSection('area')">
                    <h3>ğŸ“ ì§€ì—­ ê¸°ë°˜ ì¡°íšŒ (areaBasedList)</h3>
                    <span class="toggle-icon" id="area-icon">â–¼</span>
                </div>
                <div class="section-content" id="area-content">
                    <div class="quick-tests">
                        <button class="btn btn-secondary" onclick="setAreaTest(1)">ì„œìš¸</button>
                        <button class="btn btn-secondary" onclick="setAreaTest(6)">ë¶€ì‚°</button>
                        <button class="btn btn-secondary" onclick="setAreaTest(39)">ì œì£¼ë„</button>
                        <button class="btn btn-secondary" onclick="setAreaTest(4)">ëŒ€êµ¬</button>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-col">
                            <label>ì§€ì—­ ì½”ë“œ *</label>
                            <select id="areaCode">
                                <option value="4">ëŒ€êµ¬</option>
                                <option value="1">ì„œìš¸</option>
                                <option value="2">ì¸ì²œ</option>
                                <option value="3">ëŒ€ì „</option>
                                <option value="5">ê´‘ì£¼</option>
                                <option value="6">ë¶€ì‚°</option>
                                <option value="7">ìš¸ì‚°</option>
                                <option value="8">ì„¸ì¢…</option>
                                <option value="31">ê²½ê¸°ë„</option>
                                <option value="32">ê°•ì›ë„</option>
                                <option value="33">ì¶©ì²­ë¶ë„</option>
                                <option value="34">ì¶©ì²­ë‚¨ë„</option>
                                <option value="35">ê²½ìƒë¶ë„</option>
                                <option value="36">ê²½ìƒë‚¨ë„</option>
                                <option value="37">ì „ë¼ë¶ë„</option>
                                <option value="38">ì „ë¼ë‚¨ë„</option>
                                <option value="39">ì œì£¼ë„</option>
                            </select>
                        </div>
                        <div class="form-col">
                            <label>ì‹œêµ°êµ¬ ì½”ë“œ</label>
                            <input type="number" id="sigunguCode" placeholder="ì„ íƒì‚¬í•­">
                            <div class="help-text">ì§€ì—­ë³„ ìƒì„¸ ì‹œêµ°êµ¬ ì½”ë“œ</div>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-col">
                            <label>ì½˜í…ì¸  íƒ€ì…</label>
                            <select id="areaContentType">
                                <option value="">ì „ì²´</option>
                                <option value="12">ê´€ê´‘ì§€</option>
                                <option value="14">ë¬¸í™”ì‹œì„¤</option>
                                <option value="15">ì¶•ì œê³µì—°í–‰ì‚¬</option>
                                <option value="25">ì—¬í–‰ì½”ìŠ¤</option>
                                <option value="28">ë ˆí¬ì¸ </option>
                                <option value="32">ìˆ™ë°•</option>
                                <option value="38">ì‡¼í•‘</option>
                                <option value="39">ìŒì‹ì </option>
                            </select>
                        </div>
                        <div class="form-col">
                            <label>ê²°ê³¼ ìˆ˜</label>
                            <select id="areaRows">
                                <option value="10">10ê°œ</option>
                                <option value="20">20ê°œ</option>
                                <option value="50">50ê°œ</option>
                                <option value="100">100ê°œ</option>
                            </select>
                        </div>
                    </div>
                    
                    <button class="btn" onclick="searchByArea()">ğŸ“ ì§€ì—­ ì¡°íšŒ ì‹¤í–‰</button>
                </div>
            </div>

            <!-- 3. ìœ„ì¹˜ ê¸°ë°˜ ì¡°íšŒ -->
            <div class="test-section">
                <div class="section-header" onclick="toggleSection('location')">
                    <h3>ğŸ—ºï¸ ìœ„ì¹˜ ê¸°ë°˜ ì¡°íšŒ (locationBasedList)</h3>
                    <span class="toggle-icon" id="location-icon">â–¼</span>
                </div>
                <div class="section-content" id="location-content">
                    <div class="quick-tests">
                        <button class="btn btn-secondary" onclick="setLocationTest(128.601445, 35.871435, 1000)">ëŒ€êµ¬ ì‹œì²­ 1km</button>
                        <button class="btn btn-secondary" onclick="setLocationTest(126.9780, 37.5665, 2000)">ì„œìš¸ ì‹œì²­ 2km</button>
                        <button class="btn btn-secondary" onclick="setLocationTest(129.0756, 35.1796, 3000)">ë¶€ì‚° ì‹œì²­ 3km</button>
                        <button class="btn btn-secondary" onclick="getCurrentLocation()">ë‚´ ìœ„ì¹˜ ì°¾ê¸°</button>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-col">
                            <label>ê²½ë„ (X) *</label>
                            <input type="number" id="mapX" step="any" placeholder="ì˜ˆ: 128.601445" value="128.601445">
                            <div class="help-text">í•œêµ­ ë²”ìœ„: 124 ~ 132</div>
                        </div>
                        <div class="form-col">
                            <label>ìœ„ë„ (Y) *</label>
                            <input type="number" id="mapY" step="any" placeholder="ì˜ˆ: 35.871435" value="35.871435">
                            <div class="help-text">í•œêµ­ ë²”ìœ„: 33 ~ 43</div>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-col">
                            <label>ê²€ìƒ‰ ë°˜ê²½ (ë¯¸í„°)</label>
                            <select id="radius">
                                <option value="1000">1km</option>
                                <option value="2000" selected>2km</option>
                                <option value="5000">5km</option>
                                <option value="10000">10km</option>
                                <option value="20000">20km</option>
                            </select>
                        </div>
                        <div class="form-col">
                            <label>ê²°ê³¼ ìˆ˜</label>
                            <select id="locationRows">
                                <option value="10">10ê°œ</option>
                                <option value="20">20ê°œ</option>
                                <option value="50">50ê°œ</option>
                                <option value="100">100ê°œ</option>
                            </select>
                        </div>
                    </div>
                    
                    <button class="btn" onclick="searchByLocation()">ğŸ—ºï¸ ìœ„ì¹˜ ì¡°íšŒ ì‹¤í–‰</button>
                </div>
            </div>

            <!-- 4. ìƒì„¸ ì •ë³´ ì¡°íšŒ -->
            <div class="test-section">
                <div class="section-header" onclick="toggleSection('detail')">
                    <h3>ğŸ“‹ ìƒì„¸ ì •ë³´ ì¡°íšŒ (detailCommon)</h3>
                    <span class="toggle-icon" id="detail-icon">â–¼</span>
                </div>
                <div class="section-content" id="detail-content">
                    <div class="quick-tests">
                        <button class="btn btn-secondary" onclick="setDetailTest(126508)">ê²½ë³µê¶</button>
                        <button class="btn btn-secondary" onclick="setDetailTest(128978)">ì„œìš¸íƒ€ì›Œ</button>
                        <button class="btn btn-secondary" onclick="setDetailTest(126092)">í•´ìš´ëŒ€í•´ìˆ˜ìš•ì¥</button>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-col">
                            <label>ì½˜í…ì¸  ID *</label>
                            <input type="number" id="contentId" placeholder="ì˜ˆ: 126508">
                            <div class="help-text">ë‹¤ë¥¸ API ì¡°íšŒ ê²°ê³¼ì—ì„œ ì–»ì€ contentid ê°’ì„ ì…ë ¥</div>
                        </div>
                        <div class="form-col">
                            <label>ì½˜í…ì¸  íƒ€ì… ID</label>
                            <select id="detailContentType">
                                <option value="">ìë™</option>
                                <option value="12">ê´€ê´‘ì§€</option>
                                <option value="14">ë¬¸í™”ì‹œì„¤</option>
                                <option value="15">ì¶•ì œê³µì—°í–‰ì‚¬</option>
                                <option value="25">ì—¬í–‰ì½”ìŠ¤</option>
                                <option value="28">ë ˆí¬ì¸ </option>
                                <option value="32">ìˆ™ë°•</option>
                                <option value="38">ì‡¼í•‘</option>
                                <option value="39">ìŒì‹ì </option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>ì¡°íšŒí•  ì •ë³´ ì„ íƒ</label>
                        <div style="display: flex; flex-wrap: wrap; gap: 15px; margin-top: 10px;">
                            <label style="display: flex; align-items: center; margin-bottom: 0;">
                                <input type="checkbox" id="defaultYN" checked style="margin-right: 8px; width: auto;">
                                ê¸°ë³¸ ì •ë³´
                            </label>
                            <label style="display: flex; align-items: center; margin-bottom: 0;">
                                <input type="checkbox" id="overviewYN" checked style="margin-right: 8px; width: auto;">
                                ê°œìš”
                            </label>
                            <label style="display: flex; align-items: center; margin-bottom: 0;">
                                <input type="checkbox" id="firstImageYN" checked style="margin-right: 8px; width: auto;">
                                ëŒ€í‘œ ì´ë¯¸ì§€
                            </label>
                            <label style="display: flex; align-items: center; margin-bottom: 0;">
                                <input type="checkbox" id="mapinfoYN" checked style="margin-right: 8px; width: auto;">
                                ì§€ë„ ì •ë³´
                            </label>
                            <label style="display: flex; align-items: center; margin-bottom: 0;">
                                <input type="checkbox" id="addrinfoYN" checked style="margin-right: 8px; width: auto;">
                                ì£¼ì†Œ ì •ë³´
                            </label>
                        </div>
                    </div>
                    
                    <button class="btn" onclick="getDetailInfo()">ğŸ“‹ ìƒì„¸ ì •ë³´ ì¡°íšŒ</button>
                </div>
            </div>

            <!-- 5. ë°°ì¹˜ ìš”ì²­ -->
            <div class="test-section">
                <div class="section-header" onclick="toggleSection('batch')">
                    <h3>ğŸ“¦ ë°°ì¹˜ ìš”ì²­ (batchRequest)</h3>
                    <span class="toggle-icon" id="batch-icon">â–¼</span>
                </div>
                <div class="section-content" id="batch-content">
                    <div class="quick-tests">
                        <button class="btn btn-secondary" onclick="setBatchTest()">ìƒ˜í”Œ ë°°ì¹˜ ìš”ì²­</button>
                        <button class="btn btn-danger" onclick="clearBatchRequests()">ìš”ì²­ ëª©ë¡ ì´ˆê¸°í™”</button>
                    </div>
                    
                    <div class="form-group">
                        <label>ë°°ì¹˜ ìš”ì²­ ì„¤ì •</label>
                        <textarea id="batchRequests" rows="10" placeholder="JSON í˜•íƒœë¡œ ì—¬ëŸ¬ ìš”ì²­ì„ ì…ë ¥í•˜ì„¸ìš”...">[
  {
    "method": "searchKeyword",
    "params": { "keyword": "ì„œìš¸", "numOfRows": 5 }
  },
  {
    "method": "areaBasedList", 
    "params": { "areaCode": 1, "numOfRows": 5 }
  }
]</textarea>
                        <div class="help-text">ìµœëŒ€ 10ê°œì˜ ìš”ì²­ì„ ë™ì‹œì— ì²˜ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤</div>
                    </div>
                    
                    <button class="btn" onclick="executeBatchRequest()">ğŸ“¦ ë°°ì¹˜ ìš”ì²­ ì‹¤í–‰</button>
                </div>
            </div>

            <!-- ê²°ê³¼ í‘œì‹œ ì˜ì—­ -->
            <div class="status-container">
                <div class="status" id="status">APIë¥¼ í…ŒìŠ¤íŠ¸í•´ë³´ì„¸ìš” âœ¨</div>
                <div class="result-container">
                    <div class="result-header">
                        <span>ğŸ“„ API ì‘ë‹µ ê²°ê³¼</span>
                        <button class="copy-btn" onclick="copyResult()">ë³µì‚¬</button>
                    </div>
                    <div class="result-content" id="result">ì—¬ê¸°ì— API ì‘ë‹µ ê²°ê³¼ê°€ í‘œì‹œë©ë‹ˆë‹¤.</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // API ì„¤ì •
        const BASE_URL = window.location.origin + '/api/tourism';
        
        // í†µê³„ ë³€ìˆ˜
        let stats = {
            totalRequests: 0,
            successRequests: 0,
            errorRequests: 0,
            responseTimes: []
        };

        // DOM ìš”ì†Œ
        const resultElement = document.getElementById('result');
        const statusElement = document.getElementById('status');

        // ì´ˆê¸°í™”
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('apiUrlDisplay').textContent = BASE_URL;
            updateStats();
        });

        // ì„¹ì…˜ í† ê¸€ í•¨ìˆ˜
        function toggleSection(sectionId) {
            const content = document.getElementById(sectionId + '-content');
            const icon = document.getElementById(sectionId + '-icon');
            
            if (content.classList.contains('active')) {
                content.classList.remove('active');
                icon.textContent = 'â–¶';
            } else {
                content.classList.add('active');
                icon.textContent = 'â–¼';
            }
        }

        // í†µê³„ ì—…ë°ì´íŠ¸
        function updateStats() {
            document.getElementById('totalRequests').textContent = stats.totalRequests;
            document.getElementById('successRequests').textContent = stats.successRequests;
            document.getElementById('errorRequests').textContent = stats.errorRequests;
            
            const avgTime = stats.responseTimes.length > 0 
                ? Math.round(stats.responseTimes.reduce((a, b) => a + b, 0) / stats.responseTimes.length)
                : 0;
            document.getElementById('avgResponseTime').textContent = avgTime + 'ms';
        }

        // API í˜¸ì¶œ í•¨ìˆ˜
        async function fetchApi(operation, params = {}, options = {}) {
            const startTime = Date.now();
            stats.totalRequests++;
            
            statusElement.className = 'status loading';
            statusElement.innerHTML = '<div class="loading-spinner"></div>ìš”ì²­ ì²˜ë¦¬ ì¤‘...';
            resultElement.textContent = 'ë¡œë”© ì¤‘...';

            try {
                let url;
                let requestOptions;
                
                // --- ì—¬ê¸°ì— ì‚¬ìš©ìë‹˜ì˜ ì‹¤ì œ í´ë¼ì´ì–¸íŠ¸ API í‚¤ë¥¼ ì…ë ¥í•˜ì„¸ìš”! (ë¬¸ìì—´ ê°’ìœ¼ë¡œ) ---
                // ì´ í‚¤ëŠ” Vercel ë°±ì—”ë“œ í”„ë¡œì íŠ¸ì˜ í™˜ê²½ ë³€ìˆ˜ ALLOWED_API_KEYSì— ì„¤ì •ëœ í‚¤ ì¤‘ í•˜ë‚˜ì—¬ì•¼ í•©ë‹ˆë‹¤.
                // ì˜ˆì‹œ: const CLIENT_API_KEY = 'MySuperSecureClientKey123ABC';
                const CLIENT_API_KEY = 'DFGHJKLMNBVCXZ-api-dkfk2jak'; // <<< ì´ ë¶€ë¶„ì„ ì‹¤ì œ API í‚¤ ë¬¸ìì—´ë¡œ ë³€ê²½í•´ì£¼ì„¸ìš”!
                // ----------------------------------------------------

                // CLIENT_API_KEYê°€ ê¸°ë³¸ í”Œë ˆì´ìŠ¤í™€ë” ë¬¸ìì—´ì´ê±°ë‚˜ ë¹„ì–´ìˆëŠ” ê²½ìš° ì˜¤ë¥˜ë¥¼ ë°œìƒì‹œí‚µë‹ˆë‹¤.
                if (CLIENT_API_KEY === 'YDFGHJKLMNBVCXZ-api-dkfk2jak' || CLIENT_API_KEY.trim() === '') {
                    throw new Error("í´ë¼ì´ì–¸íŠ¸ API í‚¤ë¥¼ 'YOUR_ACTUAL_CLIENT_API_KEY_HERE' ëŒ€ì‹  ìœ íš¨í•œ ì‹¤ì œ í‚¤ ë¬¸ìì—´ë¡œ ë³€ê²½í•´ì£¼ì„¸ìš”. ì´ í‚¤ëŠ” ë°±ì—”ë“œì˜ ALLOWED_API_KEYSì— ë“±ë¡ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.");
                }
                
                if (operation === 'batchRequest') {
                    // POST ìš”ì²­ (ë°°ì¹˜)
                    url = BASE_URL;
                    requestOptions = {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'X-API-Key': CLIENT_API_KEY // API í‚¤ í—¤ë” ì¶”ê°€
                        },
                        body: JSON.stringify({
                            operation: 'batchRequest',
                            requests: params.requests,
                            options: params.options || {}
                        })
                    };
                } else {
                    // GET ìš”ì²­
                    const queryParams = new URLSearchParams({ operation, ...params });
                    url = `${BASE_URL}?${queryParams.toString()}`;
                    requestOptions = { 
                        method: 'GET',
                        headers: {
                            'X-API-Key': CLIENT_API_KEY // API í‚¤ í—¤ë” ì¶”ê°€
                        }
                    };
                }

                const response = await fetch(url, requestOptions);
                const data = await response.json();
                
                const responseTime = Date.now() - startTime;
                stats.responseTimes.push(responseTime);
                
                // ê²°ê³¼ í‘œì‹œ
                resultElement.textContent = JSON.stringify(data, null, 2);

                if (response.ok && data.success) {
                    stats.successRequests++;
                    statusElement.className = 'status success';
                    statusElement.textContent = `âœ… ì„±ê³µ! (${responseTime}ms, ìƒíƒœ: ${response.status})`;
                } else {
                    stats.errorRequests++;
                    statusElement.className = 'status error';
                    statusElement.textContent = `âŒ API ì˜¤ë¥˜! (${responseTime}ms, ìƒíƒœ: ${response.status} - ${data.error ? data.error.message : 'ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜'})`;
                }
            } catch (error) {
                const responseTime = Date.now() - startTime;
                stats.responseTimes.push(responseTime);
                stats.errorRequests++;
                
                statusElement.className = 'status error';
                statusElement.textContent = `ğŸš« ìš”ì²­ ì‹¤íŒ¨: ${error.message}`;
                resultElement.textContent = `ì˜¤ë¥˜ ë°œìƒ:\n${error.message}\n\nAPI í‚¤ ì„¤ì •ì„ í™•ì¸í•˜ê±°ë‚˜, ë°±ì—”ë“œ ì„œë²„ì˜ ë°°í¬ ìƒíƒœ ë° ALLOWED_API_KEYS í™˜ê²½ ë³€ìˆ˜ë¥¼ í™•ì¸í•´ë³´ì„¸ìš”.`;
            }
            
            updateStats();
        }

        // 1. í‚¤ì›Œë“œ ê²€ìƒ‰
        function searchByKeyword() {
            const keyword = document.getElementById('keyword').value.trim();
            if (!keyword) {
                alert('í‚¤ì›Œë“œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }

            const params = {
                keyword: keyword,
                numOfRows: document.getElementById('keywordRows').value
            };

            const contentType = document.getElementById('keywordContentType').value;
            const areaCode = document.getElementById('keywordAreaCode').value;
            
            if (contentType) params.contentTypeId = contentType;
            if (areaCode) params.areaCode = areaCode;

            fetchApi('searchKeyword', params);
        }

        function setKeywordTest(keyword) {
            document.getElementById('keyword').value = keyword;
        }

        // 2. ì§€ì—­ ê¸°ë°˜ ì¡°íšŒ
        function searchByArea() {
            const areaCode = document.getElementById('areaCode').value;
            if (!areaCode) {
                alert('ì§€ì—­ ì½”ë“œë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.');
                return;
            }

            const params = {
                areaCode: areaCode,
                numOfRows: document.getElementById('areaRows').value
            };

            const sigunguCode = document.getElementById('sigunguCode').value;
            const contentType = document.getElementById('areaContentType').value;
            
            if (sigunguCode) params.sigunguCode = sigunguCode;
            if (contentType) params.contentTypeId = contentType;

            fetchApi('areaBasedList', params);
        }

        function setAreaTest(areaCode) {
            document.getElementById('areaCode').value = areaCode;
        }

        // 3. ìœ„ì¹˜ ê¸°ë°˜ ì¡°íšŒ
        function searchByLocation() {
            const mapX = parseFloat(document.getElementById('mapX').value);
            const mapY = parseFloat(document.getElementById('mapY').value);
            
            if (isNaN(mapX) || isNaN(mapY)) {
                alert('ì˜¬ë°”ë¥¸ ì¢Œí‘œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }

            const params = {
                mapX: mapX,
                mapY: mapY,
                radius: document.getElementById('radius').value,
                numOfRows: document.getElementById('locationRows').value,
                addDistance: 'Y' // ê±°ë¦¬ ì •ë³´ ì¶”ê°€
            };

            fetchApi('locationBasedList', params);
        }

        function setLocationTest(x, y, radius) {
            document.getElementById('mapX').value = x;
            document.getElementById('mapY').value = y;
            document.getElementById('radius').value = radius;
        }

        function getCurrentLocation() {
            if (navigator.geolocation) {
                statusElement.className = 'status loading';
                statusElement.innerHTML = '<div class="loading-spinner"></div>í˜„ì¬ ìœ„ì¹˜ë¥¼ ê°€ì ¸ì˜¤ëŠ” ì¤‘...';
                
                navigator.geolocation.getCurrentPosition(
                    function(position) {
                        document.getElementById('mapX').value = position.coords.longitude;
                        document.getElementById('mapY').value = position.coords.latitude;
                        statusElement.className = 'status success';
                        statusElement.textContent = 'âœ… í˜„ì¬ ìœ„ì¹˜ë¥¼ ì„±ê³µì ìœ¼ë¡œ ê°€ì ¸ì™”ìŠµë‹ˆë‹¤!';
                    },
                    function(error) {
                        statusElement.className = 'status error';
                        statusElement.textContent = 'âŒ ìœ„ì¹˜ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤: ' + error.message;
                    }
                );
            } else {
                alert('ì´ ë¸Œë¼ìš°ì €ëŠ” ìœ„ì¹˜ ì„œë¹„ìŠ¤ë¥¼ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.');
            }
        }

        // 4. ìƒì„¸ ì •ë³´ ì¡°íšŒ
        function getDetailInfo() {
            const contentId = document.getElementById('contentId').value;
            if (!contentId) {
                alert('ì½˜í…ì¸  IDë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }

            const params = {
                contentId: contentId
            };

            const contentTypeId = document.getElementById('detailContentType').value;
            if (contentTypeId) params.contentTypeId = contentTypeId;

            // ì²´í¬ë°•ìŠ¤ ìƒíƒœì— ë”°ë¼ íŒŒë¼ë¯¸í„° ì¶”ê°€
            if (document.getElementById('defaultYN').checked) params.defaultYN = 'Y';
            if (document.getElementById('overviewYN').checked) params.overviewYN = 'Y';
            if (document.getElementById('firstImageYN').checked) params.firstImageYN = 'Y';
            if (document.getElementById('mapinfoYN').checked) params.mapinfoYN = 'Y';
            if (document.getElementById('addrinfoYN').checked) params.addrinfoYN = 'Y';

            fetchApi('detailCommon', params);
        }

        function setDetailTest(contentId) {
            document.getElementById('contentId').value = contentId;
        }

        // 5. ë°°ì¹˜ ìš”ì²­
        function executeBatchRequest() {
            const requestsText = document.getElementById('batchRequests').value.trim();
            if (!requestsText) {
                alert('ë°°ì¹˜ ìš”ì²­ ë°ì´í„°ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }

            try {
                const requests = JSON.parse(requestsText);
                if (!Array.isArray(requests)) {
                    throw new Error('ìš”ì²­ ë°ì´í„°ëŠ” ë°°ì—´ í˜•íƒœì—¬ì•¼ í•©ë‹ˆë‹¤.');
                }

                fetchApi('batchRequest', {
                    requests: requests,
                    options: {
                        concurrency: 3,
                        failFast: false
                    }
                });
            } catch (error) {
                alert('JSON í˜•ì‹ì´ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤: ' + error.message);
            }
        }

        function setBatchTest() {
            const sampleBatch = [
                {
                    "method": "searchKeyword",
                    "params": { "keyword": "ì„œìš¸", "numOfRows": 3 }
                },
                {
                    "method": "areaBasedList",
                    "params": { "areaCode": 1, "numOfRows": 3 }
                },
                {
                    "method": "locationBasedList",
                    "params": { "mapX": 126.9780, "mapY": 37.5665, "radius": 1000, "numOfRows": 3 }
                }
            ];
            document.getElementById('batchRequests').value = JSON.stringify(sampleBatch, null, 2);
        }

        function clearBatchRequests() {
            document.getElementById('batchRequests').value = '';
        }

        // ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
        function copyResult() {
            const text = resultElement.textContent;
            // navigator.clipboard.writeTextë¥¼ ì‚¬ìš©í•˜ì—¬ í´ë¦½ë³´ë“œì— ë³µì‚¬ (ë³´ì•ˆìƒì˜ ì´ìœ ë¡œ ì‚¬ìš©ì ìƒí˜¸ì‘ìš©ì´ í•„ìš”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤)
            navigator.clipboard.writeText(text).then(() => {
                const originalText = document.querySelector('.copy-btn').textContent;
                document.querySelector('.copy-btn').textContent = 'ë³µì‚¬ë¨!';
                setTimeout(() => {
                    document.querySelector('.copy-btn').textContent = originalText;
                }, 2000);
            }).catch(err => {
                // navigator.clipboardê°€ ì‘ë™í•˜ì§€ ì•Šì„ ê²½ìš° fallback (ì˜ˆ: iframe í™˜ê²½)
                console.warn('Clipboard API writeText failed, attempting execCommand:', err);
                try {
                    const textarea = document.createElement('textarea');
                    textarea.value = text;
                    document.body.appendChild(textarea);
                    textarea.select();
                    document.execCommand('copy');
                    document.body.removeChild(textarea);
                    const originalText = document.querySelector('.copy-btn').textContent;
                    document.querySelector('.copy-btn').textContent = originalText;
                    setTimeout(() => {
                        document.querySelector('.copy-btn').textContent = 'ë³µì‚¬ë¨!'; // ë‹¤ì‹œ ë³µì‚¬ë¨! í‘œì‹œ
                    }, 2000);
                } catch (err2) {
                    console.error('Failed to copy text using execCommand:', err2);
                    alert('í´ë¦½ë³´ë“œ ë³µì‚¬ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ì§ì ‘ í…ìŠ¤íŠ¸ë¥¼ ë³µì‚¬í•´ì£¼ì„¸ìš”.');
                }
            });
        }


        // ì´ˆê¸° ì„¹ì…˜ ìƒíƒœ ì„¤ì •
        document.addEventListener('DOMContentLoaded', function() {
            // ì²« ë²ˆì§¸ ì„¹ì…˜ë§Œ ì—´ì–´ë‘ 
            document.getElementById('keyword-content').classList.add('active');
        });
    </script>
</body>
</html>
